import{_ as f,L,m as w,I,g as y,h as x,c as d,b as p,w as U,a as s,t as o,d as i,F as S,j as E,i as R,r as u,o as l,p as C,e as P}from"./index-Yx8QcuVY.js";import{u as h}from"./user-gXHQ1MQ6.js";/* empty css              */import{W as m}from"./WineGlassLoader-IWPKFvX-.js";import{_ as T}from"./footerContainer-TBENB7Dp.js";import"./sweetalert2.all-BrsHtOoB.js";import"./helpers-Hx-ZzB2u.js";var V={VITE_API_URL:"https://wine-project-tmiy.onrender.com",VITE_REPO_NAME:"Wine-project",BASE_URL:"/Wine-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:N}=V,W={name:"PaymentReceived",data(){return{order:null,userId:"",isLoading:!1,fullPage:!0}},components:{Loading:L,WineGlassLoader:m},methods:{...w(h,["setUser","cleanUser","getUserCookie"]),doLoading(){this.$loading.show({props:{spinner:m},container:this.$refs.loadingContainer,canCancel:!0,color:"#000000",loader:"spinner",width:64,height:64,backgroundColor:"#ffffff",opacity:.5,zIndex:999},{default:I("WineGlassLoader")}).hide()},setLoadingTime(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},800)},getUserOrderList(){const r=`${N}/orders`;y.get(r).then(n=>{this.setLoadingTime(),this.orderList=n.data;const c=this.orderList.filter(_=>_.user.userId===this.userId);this.order=c[c.length-1]}).catch(()=>{})}},computed:{...x(h,["getUser"])},mounted(){const{userId:r}=this.getUserCookie();this.userId=r,this.getUserOrderList()}},t=r=>(C("data-v-c06edc32"),r=r(),P(),r),k=t(()=>s("div",{class:"bg-paymentReceived pb-4"},[s("h2",{class:"pb-5 text-white container"},"訂單已成立")],-1)),A={class:"container pb-5"},O=t(()=>s("img",{src:T,class:"w-100 mb-5"},null,-1)),j=t(()=>s("div",{class:"progress mb-5 fs-5",role:"progressbar","aria-label":"Animated striped example"},[s("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 確認購物車 "),s("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 填寫資料 "),s("div",{class:"progress-bar bg-primary progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"34%"},"aria-valuenow":"34","aria-valuemin":"0","aria-valuemax":"100"}," 完成訂單 ")],-1)),B={key:0,class:"bg-accent-brown p-3 table-responsive"},D={class:"pb-4"},G={class:"row"},F={class:"col-6"},M={class:"mb-3"},q=t(()=>s("strong",null,"訂單編號:",-1)),z={class:"mb-3"},H=t(()=>s("strong",null,"顧客姓名:",-1)),J={class:"mb-3"},K=t(()=>s("strong",null,"連絡電話:",-1)),Q={class:"col-6"},X={class:"mb-3"},Y=t(()=>s("strong",null,"付款狀態:",-1)),Z={class:"mb-3"},$=t(()=>s("strong",null,"訂單狀態:",-1)),ss={class:"row pb-3"},es={class:"col-12 col-md-6"},os={class:"mb-3"},ts=t(()=>s("strong",null,"連絡信箱:",-1)),rs={class:"col-12 col-md-6"},is={class:"mb-3"},as=t(()=>s("strong",null,"送貨地址:",-1)),ns=t(()=>s("h3",{class:"pb-3"},"購買商品清單",-1)),ds={class:"table"},ls=t(()=>s("thead",null,[s("tr",{class:"fs-5"},[s("th",null,"商品名稱"),s("th",null,"單價"),s("th",null,"數量")])],-1));function cs(r,n,c,_,e,_s){const g=u("WineGlassLoader"),v=u("loading");return l(),d("div",null,[p(v,{active:e.isLoading,"onUpdate:active":n[0]||(n[0]=a=>e.isLoading=a),"is-full-page":e.fullPage},{default:U(()=>[p(g)]),_:1},8,["active","is-full-page"]),k,s("div",A,[O,j,e.order?(l(),d("div",B,[s("h3",D,"訂單編號 #"+o(e.order.id)+" ("+o(e.order.create_at)+")",1),s("div",G,[s("div",F,[s("div",M,[q,i(" "+o(e.order.id),1)]),s("div",z,[H,i(" "+o(e.order.user.name),1)]),s("div",J,[K,i(" "+o(e.order.user.phone),1)])]),s("div",Q,[s("div",X,[Y,i(" "+o(e.order.is_paid?"已付款":"未付款"),1)]),s("div",Z,[$,i(" "+o(e.order.orderStatus),1)])])]),s("div",ss,[s("div",es,[s("div",os,[ts,i(" "+o(e.order.user.email),1)])]),s("div",rs,[s("div",is,[as,i(" "+o(e.order.user.address),1)])])]),ns,s("div",null,[s("table",ds,[ls,s("tbody",null,[(l(!0),d(S,null,E(e.order.cart,(a,b)=>(l(),d("tr",{key:b,class:"fs-5"},[s("td",null,o(a.chineseName),1),s("td",null,"NT$ "+o(a.price),1),s("td",null,o(a.qty),1)]))),128))])])])])):R("",!0)])])}const fs=f(W,[["render",cs],["__scopeId","data-v-c06edc32"]]);export{fs as default};
