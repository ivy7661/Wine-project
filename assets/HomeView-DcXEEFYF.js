import{e as ye,c as we,m as R,a as xe,b as de,d as Ce,S as le,f as oe}from"./swiper-vue-NX9tXTdP.js";import{_ as X,o as d,c as u,a as e,i as se,F as P,j as z,k as Z,t as F,p as te,e as ae,s as pe,l as A,n as me,q as ue,b as H,w as O,u as ce,v as j,d as U,x as ke,g as _e,r as q,y as Se,z as Le,A as ee,f as je}from"./index-_sTTT7DT.js";import{M as Pe}from"./bootstrap.esm-TTjMTX3M.js";import{v as Me}from"./vertical_line-Y-FOFHHk.js";import{g as ge}from"./helpers-Hx-ZzB2u.js";import{u as fe}from"./user-OqEc5-va.js";import{W as Te}from"./WineGlassLoader-JAov3T_a.js";import"./sweetalert2.all-bhEUQfIR.js";const Ie="/Wine-project/images/hot_icon.svg",he="/Wine-project/images/switch.png",Ae="/Wine-project/images/wine_icon.svg";function Be(l,s,h,v){return l.params.createElements&&Object.keys(v).forEach(_=>{if(!h[_]&&h.auto===!0){let o=ye(l.el,`.${v[_]}`)[0];o||(o=we("div",v[_]),o.className=v[_],l.el.append(o)),h[_]=o,s[_]=o}}),h}function J(l){return l===void 0&&(l=""),`.${l.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ve(l){let{swiper:s,extendParams:h,on:v,emit:_}=l;const o="swiper-pagination";h({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),s.pagination={el:null,bullets:[]};let m,b=0;function W(){return!s.params.pagination.el||!s.pagination.el||Array.isArray(s.pagination.el)&&s.pagination.el.length===0}function M(t,a){const{bulletActiveClass:n}=s.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${n}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${n}-${a}-${a}`)))}function N(t){const a=t.target.closest(J(s.params.pagination.bulletClass));if(!a)return;t.preventDefault();const n=de(a)*s.params.slidesPerGroup;if(s.params.loop){if(s.realIndex===n)return;s.slideToLoop(n)}else s.slideTo(n)}function S(){const t=s.rtl,a=s.params.pagination;if(W())return;let n=s.pagination.el;n=R(n);let f,C;const D=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:s.slides.length,Y=s.params.loop?Math.ceil(D/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop?(C=s.previousRealIndex||0,f=s.params.slidesPerGroup>1?Math.floor(s.realIndex/s.params.slidesPerGroup):s.realIndex):typeof s.snapIndex<"u"?(f=s.snapIndex,C=s.previousSnapIndex):(C=s.previousIndex||0,f=s.activeIndex||0),a.type==="bullets"&&s.pagination.bullets&&s.pagination.bullets.length>0){const $=s.pagination.bullets;let B,k,V;if(a.dynamicBullets&&(m=xe($[0],s.isHorizontal()?"width":"height",!0),n.forEach(x=>{x.style[s.isHorizontal()?"width":"height"]=`${m*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&C!==void 0&&(b+=f-(C||0),b>a.dynamicMainBullets-1?b=a.dynamicMainBullets-1:b<0&&(b=0)),B=Math.max(f-b,0),k=B+(Math.min($.length,a.dynamicMainBullets)-1),V=(k+B)/2),$.forEach(x=>{const i=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(c=>`${a.bulletActiveClass}${c}`)].map(c=>typeof c=="string"&&c.includes(" ")?c.split(" "):c).flat();x.classList.remove(...i)}),n.length>1)$.forEach(x=>{const i=de(x);i===f?x.classList.add(...a.bulletActiveClass.split(" ")):s.isElement&&x.setAttribute("part","bullet"),a.dynamicBullets&&(i>=B&&i<=k&&x.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),i===B&&M(x,"prev"),i===k&&M(x,"next"))});else{const x=$[f];if(x&&x.classList.add(...a.bulletActiveClass.split(" ")),s.isElement&&$.forEach((i,c)=>{i.setAttribute("part",c===f?"bullet-active":"bullet")}),a.dynamicBullets){const i=$[B],c=$[k];for(let p=B;p<=k;p+=1)$[p]&&$[p].classList.add(...`${a.bulletActiveClass}-main`.split(" "));M(i,"prev"),M(c,"next")}}if(a.dynamicBullets){const x=Math.min($.length,a.dynamicMainBullets+4),i=(m*x-m)/2-V*m,c=t?"right":"left";$.forEach(p=>{p.style[s.isHorizontal()?c:"top"]=`${i}px`})}}n.forEach(($,B)=>{if(a.type==="fraction"&&($.querySelectorAll(J(a.currentClass)).forEach(k=>{k.textContent=a.formatFractionCurrent(f+1)}),$.querySelectorAll(J(a.totalClass)).forEach(k=>{k.textContent=a.formatFractionTotal(Y)})),a.type==="progressbar"){let k;a.progressbarOpposite?k=s.isHorizontal()?"vertical":"horizontal":k=s.isHorizontal()?"horizontal":"vertical";const V=(f+1)/Y;let x=1,i=1;k==="horizontal"?x=V:i=V,$.querySelectorAll(J(a.progressbarFillClass)).forEach(c=>{c.style.transform=`translate3d(0,0,0) scaleX(${x}) scaleY(${i})`,c.style.transitionDuration=`${s.params.speed}ms`})}a.type==="custom"&&a.renderCustom?($.innerHTML=a.renderCustom(s,f+1,Y),B===0&&_("paginationRender",$)):(B===0&&_("paginationRender",$),_("paginationUpdate",$)),s.params.watchOverflow&&s.enabled&&$.classList[s.isLocked?"add":"remove"](a.lockClass)})}function T(){const t=s.params.pagination;if(W())return;const a=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:s.grid&&s.params.grid.rows>1?s.slides.length/Math.ceil(s.params.grid.rows):s.slides.length;let n=s.pagination.el;n=R(n);let f="";if(t.type==="bullets"){let C=s.params.loop?Math.ceil(a/s.params.slidesPerGroup):s.snapGrid.length;s.params.freeMode&&s.params.freeMode.enabled&&C>a&&(C=a);for(let D=0;D<C;D+=1)t.renderBullet?f+=t.renderBullet.call(s,D,t.bulletClass):f+=`<${t.bulletElement} ${s.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?f=t.renderFraction.call(s,t.currentClass,t.totalClass):f=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?f=t.renderProgressbar.call(s,t.progressbarFillClass):f=`<span class="${t.progressbarFillClass}"></span>`),s.pagination.bullets=[],n.forEach(C=>{t.type!=="custom"&&(C.innerHTML=f||""),t.type==="bullets"&&s.pagination.bullets.push(...C.querySelectorAll(J(t.bulletClass)))}),t.type!=="custom"&&_("paginationRender",n[0])}function g(){s.params.pagination=Be(s,s.originalParams.pagination,s.params.pagination,{el:"swiper-pagination"});const t=s.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&s.isElement&&(a=s.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(s.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...s.el.querySelectorAll(t.el)],a.length>1&&(a=a.filter(n=>Ce(n,".swiper")[0]===s.el)[0])),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(s.pagination,{el:a}),a=R(a),a.forEach(n=>{t.type==="bullets"&&t.clickable&&n.classList.add(...(t.clickableClass||"").split(" ")),n.classList.add(t.modifierClass+t.type),n.classList.add(s.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(n.classList.add(`${t.modifierClass}${t.type}-dynamic`),b=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&n.classList.add(t.progressbarOppositeClass),t.clickable&&n.addEventListener("click",N),s.enabled||n.classList.add(t.lockClass)}))}function I(){const t=s.params.pagination;if(W())return;let a=s.pagination.el;a&&(a=R(a),a.forEach(n=>{n.classList.remove(t.hiddenClass),n.classList.remove(t.modifierClass+t.type),n.classList.remove(s.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(n.classList.remove(...(t.clickableClass||"").split(" ")),n.removeEventListener("click",N))})),s.pagination.bullets&&s.pagination.bullets.forEach(n=>n.classList.remove(...t.bulletActiveClass.split(" ")))}v("changeDirection",()=>{if(!s.pagination||!s.pagination.el)return;const t=s.params.pagination;let{el:a}=s.pagination;a=R(a),a.forEach(n=>{n.classList.remove(t.horizontalClass,t.verticalClass),n.classList.add(s.isHorizontal()?t.horizontalClass:t.verticalClass)})}),v("init",()=>{s.params.pagination.enabled===!1?E():(g(),T(),S())}),v("activeIndexChange",()=>{typeof s.snapIndex>"u"&&S()}),v("snapIndexChange",()=>{S()}),v("snapGridLengthChange",()=>{T(),S()}),v("destroy",()=>{I()}),v("enable disable",()=>{let{el:t}=s.pagination;t&&(t=R(t),t.forEach(a=>a.classList[s.enabled?"remove":"add"](s.params.pagination.lockClass)))}),v("lock unlock",()=>{S()}),v("click",(t,a)=>{const n=a.target,f=R(s.pagination.el);if(s.params.pagination.el&&s.params.pagination.hideOnClick&&f&&f.length>0&&!n.classList.contains(s.params.pagination.bulletClass)){if(s.navigation&&(s.navigation.nextEl&&n===s.navigation.nextEl||s.navigation.prevEl&&n===s.navigation.prevEl))return;const C=f[0].classList.contains(s.params.pagination.hiddenClass);_(C===!0?"paginationShow":"paginationHide"),f.forEach(D=>D.classList.toggle(s.params.pagination.hiddenClass))}});const y=()=>{s.el.classList.remove(s.params.pagination.paginationDisabledClass);let{el:t}=s.pagination;t&&(t=R(t),t.forEach(a=>a.classList.remove(s.params.pagination.paginationDisabledClass))),g(),T(),S()},E=()=>{s.el.classList.add(s.params.pagination.paginationDisabledClass);let{el:t}=s.pagination;t&&(t=R(t),t.forEach(a=>a.classList.add(s.params.pagination.paginationDisabledClass))),I()};Object.assign(s.pagination,{enable:y,disable:E,render:T,update:S,init:g,destroy:I})}const He={props:["tempProducts","favorites","isMatchCondition"],data(){return{modalProduct:null}},methods:{openModal(){this.modalProduct.show()},closeModal(){this.modalProduct.hide()},seeProduct(l){this.closeModal(),setTimeout(()=>{this.$router.push({name:"ProductDetail",params:{id:l}})},0)},addToCart(l){this.$emit("add-to-cart",l)},addFavorite(l){this.$emit("add-to-favorite",l)}},mounted(){this.modalProduct=new Pe(this.$refs.productModal)}},re=l=>(te("data-v-13da6d2d"),l=l(),ae(),l),We={ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"selectProductModalLabel","aria-hidden":"true"},Fe={class:"modal-dialog modal-xl"},De={class:"modal-content border-0"},Ne=re(()=>e("div",{class:"modal-header bg-dark text-white"},[e("h5",{id:"selectProductModalLabel",class:"modal-title"},[e("span",null,"推薦酒品")]),e("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Re={class:"modal-body"},ze={class:"row"},Oe={key:0,class:"col-12"},Ee=re(()=>e("div",{class:"alert alert-warning alert-title",role:"alert"},[e("i",{class:"bi bi-exclamation-triangle-fill me-2"}),e("span",null,"您選擇的條件暫無適合酒款，另推薦熱門酒款給您。")],-1)),Ve=[Ee],Ge={class:"card h-100 p-2"},qe={class:"row h-100"},Ue={class:"col-4"},Xe=["onClick"],Ye={key:0,class:"bi bi-heart-fill me-1"},Ke={key:1,class:"bi bi-heart me-1"},Je=["onClick"],Qe=["src","alt"],Ze={class:"col-8"},es={class:"card-body d-flex flex-column h-100 justify-content-between"},ss={class:"mb-2"},ts={class:"d-flex mb-1 justify-content-between"},as={key:0,class:"badge bg-danger mb-2"},is={class:"d-flex gap-1"},ns=["onClick"],ls={class:"card-title flex-fill"},os={class:"card-text text-danger fw-bold"},cs=["onClick"],rs=re(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 關閉 ")],-1));function ds(l,s,h,v,_,o){return d(),u("div",We,[e("div",Fe,[e("div",De,[Ne,e("div",Re,[e("div",ze,[h.isMatchCondition?se("",!0):(d(),u("div",Oe,Ve)),(d(!0),u(P,null,z(h.tempProducts,m=>(d(),u("div",{class:"col-12 col-md-6 col-lg-4 mb-3",key:m.id},[e("div",Ge,[e("div",qe,[e("div",Ue,[e("a",{href:"#",onClick:Z(b=>o.addFavorite(m),["prevent"])},[h.favorites.includes(m.id)?(d(),u("i",Ye)):(d(),u("i",Ke))],8,Xe),e("a",{href:"#",onClick:Z(b=>o.seeProduct(m.id),["prevent"])},[e("img",{src:l.$filters.imgPath(`/images/wine_images/${m.image}.jpg`),class:"card-img-top",alt:m.chineseName},null,8,Qe)],8,Je)]),e("div",Ze,[e("div",es,[e("div",ss,[e("div",ts,[m.is_hot?(d(),u("span",as,"熱門推薦")):se("",!0),e("div",is,[(d(!0),u(P,null,z(m.star,b=>(d(),u("i",{class:"bi bi-star-fill text-warning",key:b}))),128))])]),e("div",null,[e("a",{href:"#",class:"text-black",onClick:Z(b=>o.seeProduct(m.id),["prevent"])},[e("h5",ls,F(m.chineseName),1)],8,ns),e("p",os,"$ "+F(m.price),1)])]),e("a",{href:"#",class:"btn btn-primary w-100",onClick:Z(b=>o.addToCart(m),["prevent"])},"加入購物車",8,cs)])])])])]))),128))])]),rs])])],512)}const ps=X(He,[["render",ds],["__scopeId","data-v-13da6d2d"]]),Q=l=>(te("data-v-c5d9c294"),l=l(),ae(),l),ms={class:"selection-container container-lg mt-5"},us={class:"row justify-content-between"},_s={class:"hot-container col-md-12 col-lg-6"},gs={class:"info"},fs=Q(()=>e("div",{class:"title d-flex justify-content-between align-items-center mb-3"},[e("div",null,[e("img",{src:Ie,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"熱賣商品")]),e("div",{id:"hot_pagination",class:"swiper-pagination homeswiper-pagination"})],-1)),hs={class:"region-card card bg-white"},vs={class:"card-body px-0"},bs={class:"region-card_head d-flex flex-sm-nowrap"},$s={class:"image-wine"},ys=["src"],ws=Q(()=>e("img",{class:"image-switch",src:he,alt:"wine"},null,-1)),xs={class:"info single-ellipsis"},Cs={class:"text-black mt-2"},ks={class:"card-subtitle mt-2 single-ellipsis"},Ss={class:"d-flex gap-1 mt-2"},Ls={class:"price-block d-flex justify-content-between align-items-center"},js={class:"price text-primary"},Ps=["disabled","onClick"],Ms=Q(()=>e("span",null,"立即購買",-1)),Ts=Q(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),Is={class:"text-center vertical-line d-none d-lg-block"},As=["src"],Bs={class:"select-container col-md-12 col-lg-6 d-flex justify-content-end"},Hs={class:"info"},Ws={class:"title d-flex justify-content-between align-items-center mb-3"},Fs=Q(()=>e("div",null,[e("img",{src:Ae,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"引導選酒區")],-1)),Ds={key:0},Ns={key:1},Rs={class:"container-lg"},zs={class:"row justify-content-between gx-1 gx-sm-3"},Os=["onClick"],Es=["src"],Vs={__name:"HomeWineSelection",emits:["isReady"],setup(l,{emit:s}){const h=fe(),v=s,{getUser:_,getFavorites:o}=pe(h),m=A("taste"),b=A([]),W=A(!1),M=A(0),N=A(null),S=A(null),T=A(null),g=A([]),I=A([]),y=A([]),E=[{id:0,type:["taste","food"],options:[{name:"純品酒",image:"/images/select_wine1.png",next:1},{name:"搭配餐酒",image:"/images/select_wine2.png",next:10}]},{id:1,type:["taste"],options:[{name:"偏甜",image:"/images/lead_wine/sweet.png",next:2},{name:"偏酸",image:"/images/lead_wine/sour.png",next:2},{name:"偏乾",image:"/images/lead_wine/dry.png",next:90}]},{id:2,type:["taste"],options:[{name:"飽滿",image:"/images/lead_wine/filling.png",next:90},{name:"輕盈",image:"/images/lead_wine/light.png",next:90}]},{id:10,type:["food"],options:[{name:"開胃菜",image:"/images/lead_wine/appetizer.png",next:90},{name:"主菜",image:"/images/lead_wine/main_course.png",next:90},{name:"甜點",image:"/images/lead_wine/dessert.png",next:90}]},{id:90,type:["taste","food"],options:[{name:"氣泡",image:"/images/lead_wine/sparkling.png",next:99},{name:"無氣泡",image:"/images/lead_wine/sparkling_non.png",next:99}]},{id:99,type:["taste","food"],options:[{name:"紅葡萄酒",image:"/images/lead_wine/red_wine.png",next:-1},{name:"白葡萄酒",image:"/images/lead_wine/white_wine.png",next:-1}]}],t=i=>{const c=i.match(/\d+/);return c?parseInt(c[0],10):0},a=()=>{_e.get("https://wine-project-tmiy.onrender.com/products").then(i=>{I.value=i.data,g.value=i.data.filter(c=>!!c.is_hot&&c.star>3).slice(0,3),v("isReady")}).catch(i=>{console.log(i.response)})},n=i=>{S.value=i,S.value.slideReset(),S.value.slideTo(0)},f=i=>{T.value=i,T.value.slideReset(),T.value.slideTo(0)},C=i=>{i.name==="搭配餐酒"?m.value="food":i.name==="純品酒"&&(m.value="taste"),i&&i.next>0?(b.value.push(i.name),T.value.slideNext()):(M.value=i.next,k(i))},D=i=>{var c;i&&i.id&&((c=_.value)!=null&&c.id)&&h.addToCart(i)},Y=i=>{var c;if(i.id&&((c=_.value)!=null&&c.id)&&!o.value.includes(i.id)){const p={userId:_.value.id,productId:i.id,created_at:ge()};h.addToFavorite(p)}},$=(i,c,p)=>{const r=i.taste;switch(c){case"偏甜":return p==="飽滿"?t(r.sweet)>50&&t(r.body)>50:t(r.sweet)<=50&&t(r.body)<=50;case"偏酸":return p==="飽滿"?t(r.acidity)>50&&t(r.body)>50:t(r.acidity)<=50&&t(r.body)<=50;case"偏乾":return p==="飽滿"?t(r.tannin)>50&&t(r.body)>50:t(r.tannin)<=50&&t(r.body)<=50;default:return!1}},B=(i,c)=>{const p=i.food;switch(c){case"開胃菜":return p.some(r=>r.includes("開胃菜"));case"主菜":return p.some(r=>r.includes("海鮮")||r.includes("雞肉")||r.includes("披薩"));case"甜點":return p.some(r=>r.includes("甜點"));default:return!1}},k=i=>{let c=[],p=!1;if(b.value[0]==="搭配餐酒"){const[,r,G]=b.value;p=G==="氣泡",c=I.value.filter(K=>(p?K.wineStyle.includes("氣泡"):K.wineStyle===i.name)&&B(K,r))}else{const[,r,G,K]=b.value;p=K==="氣泡",c=I.value.filter(ie=>(p?ie.wineStyle.includes("氣泡"):ie.wineStyle===i.name)&&$(ie,r,G))}c.length>0?(W.value=!0,y.value=c):(W.value=!1,y.value=I.value.filter(r=>r.wineStyle===i.name&&!!r.is_hot).slice(0,6)),N.value.openModal()},V=()=>{M.value===-1&&(M.value=0,b.value.length=0,T.value.slideReset(),T.value.slideTo(0))},x=me(()=>E.filter(i=>i.type.includes(m.value)));return ue(()=>{a()}),(i,c)=>(d(),u("div",ms,[e("div",us,[e("div",_s,[e("div",gs,[fs,H(j(oe),{pagination:{el:"#hot_pagination"},onSwiper:n,modules:[j(ve)],class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(g.value,p=>(d(),ce(j(le),{key:p.id},{default:O(()=>{var r;return[e("div",hs,[e("div",null,[e("div",vs,[e("div",bs,[e("div",$s,[e("img",{src:i.$filters.imgPath(`/images/wine_images/${p.image}.jpg`),alt:"wine"},null,8,ys),ws]),e("div",xs,[e("h5",Cs,F(p.chineseName),1),e("h6",ks,F(p.englishName),1),e("div",Ss,[(d(!0),u(P,null,z(p.star,G=>(d(),u("i",{class:"bi bi-star-fill text-warning",key:G}))),128))]),e("div",Ls,[e("h5",js,"NT$"+F(i.$filters.currency(p.price)),1),e("button",{type:"button",class:"btn btn-primary me-0",disabled:!((r=j(_))!=null&&r.id),onClick:G=>D(p)},[Ms,U(),Ts],8,Ps)])])])])])])]}),_:2},1024))),128))]),_:1},8,["modules"])]),e("div",Is,[e("img",{src:j(Me),alt:"vertical Line"},null,8,As)])]),e("div",Bs,[e("div",Hs,[e("div",Ws,[Fs,e("button",{type:"button",class:"btn btn-primary btn-next",onClick:V},[M.value===-1?(d(),u("span",Ds,"重新選擇")):(d(),u("span",Ns,"下一步"))])]),H(j(oe),{onSwiper:f,allowTouchMove:!1,class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(x.value,p=>(d(),ce(j(le),{key:p.id},{default:O(()=>[e("div",Rs,[e("div",zs,[(d(!0),u(P,null,z(p.options,r=>(d(),u("div",{class:ke(["",[p.options.length>=3?"col-4":"col-6 g-0"]]),key:`child-${r.id}`},[e("div",{class:"card-select",onClick:G=>C(r)},[e("img",{src:i.$filters.imgPath(r.image),alt:"wine"},null,8,Es),e("h5",null,F(r.name),1)],8,Os)],2))),128))])])]),_:2},1024))),128))]),_:1})])])]),H(ps,{ref_key:"selectProductModal",ref:N,tempProducts:y.value,favorites:j(o),isMatchCondition:W.value,onAddToCart:D,onAddToFavorite:Y},null,8,["tempProducts","favorites","isMatchCondition"])]))}},Gs=X(Vs,[["__scopeId","data-v-c5d9c294"]]),be="/Wine-project/images/slider-image.png",qs="/Wine-project/images/slider-left.png",$e="/Wine-project/images/slider-right.png",Us={name:"HomeNews",data(){return{}}},L=l=>(te("data-v-8d06422e"),l=l(),ae(),l),Xs={class:"container-xl"},Ys={class:"row"},Ks={class:"col-md-12 news-container mt-5 mb-5"},Js=L(()=>e("h2",{class:"text-primary text-center mt-5"},"最新消息",-1)),Qs={class:"news-image d-none d-lg-flex justify-content-lg-center align-items-lg-center"},Zs=L(()=>e("div",{class:"bg-slider"},null,-1)),et=L(()=>e("img",{src:be,class:"img-slider2",alt:"slider image"},null,-1)),st=L(()=>e("img",{src:qs,class:"img-slider1 d-none d-lg-block",alt:"slider left"},null,-1)),tt=L(()=>e("img",{src:$e,class:"img-slider3",alt:"slider right"},null,-1)),at={class:"info-slider"},it=L(()=>e("h3",{class:""},"2024 龍年禮盒 85 折起",-1)),nt=L(()=>e("div",{class:"text-info"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),lt=L(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),ot={class:"news-md-image d-lg-none d-flex justify-content-center"},ct=L(()=>e("div",{class:"bg-slider"},null,-1)),rt={class:"card"},dt=L(()=>e("img",{src:be,class:"card-img-top",alt:"slider image"},null,-1)),pt={class:"card-body"},mt=L(()=>e("h5",{class:"card-title"},"2024 龍年禮盒 85 折起",-1)),ut=L(()=>e("div",{class:"text-info my-3"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),_t=L(()=>e("span",null,"馬上逛逛",-1)),gt=L(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),ft=L(()=>e("img",{src:$e,class:"img-slider3",alt:"slider right"},null,-1));function ht(l,s,h,v,_,o){const m=q("RouterLink");return d(),u("div",Xs,[e("div",Ys,[e("div",Ks,[Js,e("div",Qs,[Zs,et,st,tt,e("div",at,[it,nt,H(m,{to:"/products"},{default:O(()=>[U(" 馬上逛逛 "),lt]),_:1})])]),e("div",ot,[ct,e("div",rt,[dt,e("div",pt,[mt,ut,H(m,{class:"btn btn-primary",to:"/products"},{default:O(()=>[_t,U(),gt]),_:1})])]),ft])])])])}const vt=X(Us,[["render",ht],["__scopeId","data-v-8d06422e"]]),bt="/Wine-project/images/region2.jpg",$t="/Wine-project/images/region1.jpg",yt="/Wine-project/images/card-top-line.svg",w=l=>(te("data-v-ed940061"),l=l(),ae(),l),wt={class:"region-container bg-accent-brown"},xt={class:"container"},Ct={class:"row justify-content-center flex-lg-row flex-column align-content-center"},kt={class:"col-lg-6 col-md-8"},St={class:"d-flex justify-content-between flex-lg-row flex-column align-items-center"},Lt=w(()=>e("h3",{class:"title text-primary"},"法國特色產區",-1)),jt=w(()=>e("label",{for:"select-region",class:"form-label region-label"},"選擇產區",-1)),Pt=w(()=>e("option",{value:"1",selected:""},"法國產區 薄酒萊",-1)),Mt=w(()=>e("option",{value:"2"},"法國產區 波爾多",-1)),Tt=[Pt,Mt],It={class:"region-image d-flex"},At=w(()=>e("img",{src:bt,alt:"region image"},null,-1)),Bt=w(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"薄酒萊新酒"),e("p",null,"Beaujolais Nouveau")],-1)),Ht=w(()=>e("img",{src:$t,alt:"region image"},null,-1)),Wt=w(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"波爾多新酒"),e("p",null,"Bordeaux Nouveau")],-1)),Ft=w(()=>e("div",{class:"region-content text-start"},[e("p",{class:"lead"},"特色"),e("ol",null,[e("li",null,"每年的11月份的第三個星期四，葡萄採收馬上被裝瓶上架"),e("li",null,"主要以 Gamay 葡萄品種"),e("li",null,"適合用在慶祝活動"),e("li",null,"果味濃郁(草莓、覆盆子和櫻桃)、單寧低、口感輕盈"),e("li",null,"試飲期一到兩年飲用")])],-1)),Dt={class:"col-lg-6 col-md-8"},Nt={class:"region-card card bg-white"},Rt={class:"card-body px-0"},zt={class:"region-card_head d-flex"},Ot={class:"image-wine"},Et=["src"],Vt=w(()=>e("img",{class:"image-switch",src:he,alt:"wine"},null,-1)),Gt={class:"single-ellipsis"},qt={class:"text-black mt-2"},Ut={class:"card-subtitle mt-2 single-ellipsis"},Xt={class:"price text-primary mt-3"},Yt={class:"region-info mt-2"},Kt=w(()=>e("img",{src:yt,class:"line-image",alt:"line"},null,-1)),Jt={class:"taste mt-4"},Qt=w(()=>e("p",{class:"taste-title mb-3"},"這款酒喝起來的味道如何？",-1)),Zt={class:"container-fluid taste-content px-0 mt-1"},ea={class:"row"},sa={class:"col-md-6 d-flex align-items-center mb-1"},ta=w(()=>e("p",null,"單寧",-1)),aa={class:"progress-bar"},ia={class:"col-md-6 d-flex align-items-center mb-1"},na=w(()=>e("p",null,"酸度",-1)),la={class:"progress-bar"},oa={class:"col-md-6 d-flex align-items-center mb-1"},ca=w(()=>e("p",null,"甜度",-1)),ra={class:"progress-bar"},da={class:"col-md-6 d-flex align-items-center mb-1"},pa=w(()=>e("p",null,"酒體",-1)),ma={class:"progress-bar"},ua={class:"region-taste container-fluid px-0 my-4"},_a={class:"row"},ga={class:"col-12 col-sm-6"},fa=w(()=>e("p",{class:"mb-2"},"風味分類",-1)),ha={class:"d-flex justify-content-between"},va=["src"],ba={class:"icon-text text-center"},$a={class:"col-12 col-sm-6"},ya=w(()=>e("p",{class:"mb-2"},"搭配餐酒",-1)),wa={class:"d-flex justify-content-between"},xa=["src"],Ca={class:"icon-text text-center"},ka={class:"region-button d-flex justify-content-between"},Sa=["onClick","disabled"],La=w(()=>e("i",{class:"bi bi-heart-fill me-1"},null,-1)),ja=w(()=>e("i",{class:"bi bi-heart me-1"},null,-1)),Pa=["disabled","onClick"],Ma=w(()=>e("i",{class:"bi bi-cart3 me-1"},null,-1)),Ta=w(()=>e("div",{id:"region_pagination",class:"swiper-pagination homeswiper-pagination mt-3"},null,-1)),Ia={__name:"HomeWineRegion",setup(l){const s=fe(),{getUser:h,getFavorites:v}=pe(s),_=A(null),o=A("1"),m=A([]),b=me(()=>o.value==="2"?m.value.filter(g=>g.place==="波爾多").slice(0,3):m.value.filter(g=>g.place==="薄酒萊").slice(0,3)),W=()=>{_e.get("https://wine-project-tmiy.onrender.com/products").then(g=>{m.value=g.data}).catch(g=>{console.log(g.response)})},M=g=>{if(g&&h.value.id&&!v.value.includes(g)){const I={userId:h.value.id,productId:g,created_at:ge()};s.addToFavorite(I)}},N=g=>{g&&g.id&&h.value.id&&s.addToCart(g)},S=()=>{_.value&&(_.value.slideReset(),_.value.slideTo(0))},T=g=>{_.value=g,_.value.slideReset(),_.value.slideTo(0)};return ue(()=>{W()}),(g,I)=>(d(),u("div",wt,[e("div",xt,[e("div",Ct,[e("div",kt,[e("div",St,[Lt,e("div",null,[jt,Se(e("select",{id:"select-region",class:"form-select region text-primary","aria-label":"選擇產區","onUpdate:modelValue":I[0]||(I[0]=y=>o.value=y),onChange:S},Tt,544),[[Le,o.value]])])]),e("div",It,[o.value==="1"?(d(),u(P,{key:0},[At,Bt],64)):se("",!0),o.value==="2"?(d(),u(P,{key:1},[Ht,Wt],64)):se("",!0)]),Ft]),e("div",Dt,[H(j(oe),{pagination:{el:"#region_pagination"},onSwiper:T,modules:[j(ve)],class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(b.value,y=>(d(),ce(j(le),{key:y.id},{default:O(()=>{var E,t;return[e("div",Nt,[e("div",null,[e("div",Rt,[e("div",zt,[e("div",Ot,[e("img",{src:g.$filters.imgPath(`/images/wine_images/${y.image}.jpg`),alt:"wine"},null,8,Et)]),Vt,e("div",Gt,[e("h5",qt,F(y.chineseName),1),e("h6",Ut,F(y.englishName),1),e("h5",Xt,"NT$ "+F(g.$filters.currency(y.price)),1)])]),e("div",Yt,[Kt,e("div",Jt,[Qt,e("div",Zt,[e("div",ea,[e("div",sa,[ta,e("div",aa,[e("div",{class:"progress",style:ee({width:y.taste.tannin})},null,4)])]),e("div",ia,[na,e("div",la,[e("div",{class:"progress",style:ee({width:y.taste.acidity})},null,4)])]),e("div",oa,[ca,e("div",ra,[e("div",{class:"progress",style:ee({width:y.taste.sweet})},null,4)])]),e("div",da,[pa,e("div",ma,[e("div",{class:"progress",style:ee({width:y.taste.body})},null,4)])])])])])]),e("div",ua,[e("div",_a,[e("div",ga,[fa,e("div",ha,[(d(!0),u(P,null,z(y.flavor.slice(0,3),(a,n)=>(d(),u("div",{class:"icon-container",key:a},[e("img",{src:g.$filters.imgPath(`/images/taste/t${n+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,va),e("p",ba,F(a),1)]))),128))])]),e("div",$a,[ya,e("div",wa,[(d(!0),u(P,null,z(y.food.slice(0,3),(a,n)=>(d(),u("div",{class:"icon-container",key:a},[e("img",{src:g.$filters.imgPath(`/images/taste/f${n+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,xa),e("p",Ca,F(a),1)]))),128))])])])]),e("div",ka,[e("button",{type:"button",class:"btn btn-black me-0",onClick:a=>M(y.id),disabled:!((E=j(h))!=null&&E.id)},[j(v).includes(y.id)?(d(),u(P,{key:0},[La,U(" 已收藏 ")],64)):(d(),u(P,{key:1},[ja,U(" 加入收藏 ")],64))],8,Sa),e("button",{type:"button",class:"btn btn-primary me-0",disabled:!((t=j(h))!=null&&t.id),onClick:a=>N(y)},[Ma,U(" 加入購物車 ")],8,Pa)])])])])]}),_:2},1024))),128))]),_:1},8,["modules"]),Ta])])])]))}},Aa=X(Ia,[["__scopeId","data-v-ed940061"]]),Ba="/Wine-project/images/Deco_3.png",Ha="/Wine-project/images/Article_3.png",ne="/Wine-project/assets/Slider-VELHKiOe.svg",Wa="/Wine-project/images/Article_2.png",Fa="/Wine-project/images/Article_1.png",Da={name:"HomePosts",data(){return{}}},Na={class:"container-fluid d-flex justify-content-center bg-white-2 container-post"},Ra=je('<img src="'+Ba+'" alt="Deco_3" class="deco w-100" data-v-52f199fb><div data-v-52f199fb><h2 class="text-primary text-center my-5" data-v-52f199fb>好文分享</h2><div class="row mb-5" style="max-width:1296px;" data-v-52f199fb><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Ha+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>送酒推薦搭配指南</h5><p class="text-black-70" data-v-52f199fb>紅酒推薦挑選方法</p><p class="text-black" data-v-52f199fb> 紅酒、白酒都是葡萄做為原料而製成，根據不同葡萄品種、產區、釀造方法等，有極廣泛的風味...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/gift-recommendation/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Wa+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>西班牙 CAVA 的由來</h5><p class="text-black-70" data-v-52f199fb>葡萄酒知識</p><p class="text-black" data-v-52f199fb> CAVA是傳統法釀造的氣泡酒，釀造方式使用「二次瓶中發酵法」與香檳相同...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/wine-knowledge-cava/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Fa+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>六款值得收藏紅酒推薦</h5><p class="text-black-70" data-v-52f199fb>紅酒歷史由來</p><p class="text-black" data-v-52f199fb> 從最早的自然發酵到現今專業的釀酒，其多變的風味與香氣，更迷倒了古今中外的無數人...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/red-wine-recommendation/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div></div></div>',2),za=[Ra];function Oa(l,s,h,v,_,o){return d(),u("div",Na,za)}const Ea=X(Da,[["render",Oa],["__scopeId","data-v-52f199fb"]]),Va={name:"HomeView",components:{HomeWineSelection:Gs,HomeNews:vt,HomeWineRegion:Aa,HomePosts:Ea,WineGlassLoader:Te},data(){return{isLoading:!0}},methods:{onIsReady(){setTimeout(()=>{this.isLoading=!1},600)}}};function Ga(l,s,h,v,_,o){const m=q("WineGlassLoader"),b=q("VueLoading"),W=q("HomeWineSelection"),M=q("HomeNews"),N=q("HomeWineRegion"),S=q("HomePosts");return d(),u(P,null,[H(b,{active:_.isLoading},{default:O(()=>[H(m)]),_:1},8,["active"]),H(W,{onIsReady:o.onIsReady},null,8,["onIsReady"]),H(M),H(N),H(S)],64)}const ei=X(Va,[["render",Ga]]);export{ei as default};
