import{e as ye,c as we,m as R,a as xe,b as de,d as Ce,S as le,f as oe}from"./swiper-vue-tEvWwR_a.js";import{_ as X,o as d,c as u,a as e,i as te,F as P,j as z,k as Z,t as F,p as se,e as ae,s as pe,l as A,n as me,q as ue,b as H,w as O,u as ce,v as j,d as U,x as ke,g as _e,r as q,y as Se,z as Le,A as ee,f as je}from"./index-D9iwTYBx.js";import{M as Pe}from"./bootstrap.esm-uhsrVe-H.js";import{v as Me}from"./vertical_line-KFhxcGUZ.js";import{g as ge}from"./helpers-Hx-ZzB2u.js";import{u as fe}from"./user-zTpHITp0.js";import{W as Te}from"./WineGlassLoader-nT3gUNUM.js";import"./sweetalert2.all-F3ILfyPW.js";const Ie="/Wine-project/images/hot_icon.svg",he="/Wine-project/images/switch.png",Ae="/Wine-project/images/wine_icon.svg";function Be(l,t,h,v){return l.params.createElements&&Object.keys(v).forEach(_=>{if(!h[_]&&h.auto===!0){let o=ye(l.el,`.${v[_]}`)[0];o||(o=we("div",v[_]),o.className=v[_],l.el.append(o)),h[_]=o,t[_]=o}}),h}function J(l){return l===void 0&&(l=""),`.${l.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ve(l){let{swiper:t,extendParams:h,on:v,emit:_}=l;const o="swiper-pagination";h({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:s=>s,formatFractionTotal:s=>s,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let m,b=0;function W(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function M(s,a){const{bulletActiveClass:n}=t.params.pagination;s&&(s=s[`${a==="prev"?"previous":"next"}ElementSibling`],s&&(s.classList.add(`${n}-${a}`),s=s[`${a==="prev"?"previous":"next"}ElementSibling`],s&&s.classList.add(`${n}-${a}-${a}`)))}function N(s){const a=s.target.closest(J(t.params.pagination.bulletClass));if(!a)return;s.preventDefault();const n=de(a)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===n)return;t.slideToLoop(n)}else t.slideTo(n)}function S(){const s=t.rtl,a=t.params.pagination;if(W())return;let n=t.pagination.el;n=R(n);let f,C;const D=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,Y=t.params.loop?Math.ceil(D/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(C=t.previousRealIndex||0,f=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(f=t.snapIndex,C=t.previousSnapIndex):(C=t.previousIndex||0,f=t.activeIndex||0),a.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const $=t.pagination.bullets;let B,k,V;if(a.dynamicBullets&&(m=xe($[0],t.isHorizontal()?"width":"height",!0),n.forEach(x=>{x.style[t.isHorizontal()?"width":"height"]=`${m*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&C!==void 0&&(b+=f-(C||0),b>a.dynamicMainBullets-1?b=a.dynamicMainBullets-1:b<0&&(b=0)),B=Math.max(f-b,0),k=B+(Math.min($.length,a.dynamicMainBullets)-1),V=(k+B)/2),$.forEach(x=>{const i=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(c=>`${a.bulletActiveClass}${c}`)].map(c=>typeof c=="string"&&c.includes(" ")?c.split(" "):c).flat();x.classList.remove(...i)}),n.length>1)$.forEach(x=>{const i=de(x);i===f?x.classList.add(...a.bulletActiveClass.split(" ")):t.isElement&&x.setAttribute("part","bullet"),a.dynamicBullets&&(i>=B&&i<=k&&x.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),i===B&&M(x,"prev"),i===k&&M(x,"next"))});else{const x=$[f];if(x&&x.classList.add(...a.bulletActiveClass.split(" ")),t.isElement&&$.forEach((i,c)=>{i.setAttribute("part",c===f?"bullet-active":"bullet")}),a.dynamicBullets){const i=$[B],c=$[k];for(let p=B;p<=k;p+=1)$[p]&&$[p].classList.add(...`${a.bulletActiveClass}-main`.split(" "));M(i,"prev"),M(c,"next")}}if(a.dynamicBullets){const x=Math.min($.length,a.dynamicMainBullets+4),i=(m*x-m)/2-V*m,c=s?"right":"left";$.forEach(p=>{p.style[t.isHorizontal()?c:"top"]=`${i}px`})}}n.forEach(($,B)=>{if(a.type==="fraction"&&($.querySelectorAll(J(a.currentClass)).forEach(k=>{k.textContent=a.formatFractionCurrent(f+1)}),$.querySelectorAll(J(a.totalClass)).forEach(k=>{k.textContent=a.formatFractionTotal(Y)})),a.type==="progressbar"){let k;a.progressbarOpposite?k=t.isHorizontal()?"vertical":"horizontal":k=t.isHorizontal()?"horizontal":"vertical";const V=(f+1)/Y;let x=1,i=1;k==="horizontal"?x=V:i=V,$.querySelectorAll(J(a.progressbarFillClass)).forEach(c=>{c.style.transform=`translate3d(0,0,0) scaleX(${x}) scaleY(${i})`,c.style.transitionDuration=`${t.params.speed}ms`})}a.type==="custom"&&a.renderCustom?($.innerHTML=a.renderCustom(t,f+1,Y),B===0&&_("paginationRender",$)):(B===0&&_("paginationRender",$),_("paginationUpdate",$)),t.params.watchOverflow&&t.enabled&&$.classList[t.isLocked?"add":"remove"](a.lockClass)})}function T(){const s=t.params.pagination;if(W())return;const a=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let n=t.pagination.el;n=R(n);let f="";if(s.type==="bullets"){let C=t.params.loop?Math.ceil(a/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&C>a&&(C=a);for(let D=0;D<C;D+=1)s.renderBullet?f+=s.renderBullet.call(t,D,s.bulletClass):f+=`<${s.bulletElement} ${t.isElement?'part="bullet"':""} class="${s.bulletClass}"></${s.bulletElement}>`}s.type==="fraction"&&(s.renderFraction?f=s.renderFraction.call(t,s.currentClass,s.totalClass):f=`<span class="${s.currentClass}"></span> / <span class="${s.totalClass}"></span>`),s.type==="progressbar"&&(s.renderProgressbar?f=s.renderProgressbar.call(t,s.progressbarFillClass):f=`<span class="${s.progressbarFillClass}"></span>`),t.pagination.bullets=[],n.forEach(C=>{s.type!=="custom"&&(C.innerHTML=f||""),s.type==="bullets"&&t.pagination.bullets.push(...C.querySelectorAll(J(s.bulletClass)))}),s.type!=="custom"&&_("paginationRender",n[0])}function g(){t.params.pagination=Be(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const s=t.params.pagination;if(!s.el)return;let a;typeof s.el=="string"&&t.isElement&&(a=t.el.querySelector(s.el)),!a&&typeof s.el=="string"&&(a=[...document.querySelectorAll(s.el)]),a||(a=s.el),!(!a||a.length===0)&&(t.params.uniqueNavElements&&typeof s.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...t.el.querySelectorAll(s.el)],a.length>1&&(a=a.filter(n=>Ce(n,".swiper")[0]===t.el)[0])),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(t.pagination,{el:a}),a=R(a),a.forEach(n=>{s.type==="bullets"&&s.clickable&&n.classList.add(...(s.clickableClass||"").split(" ")),n.classList.add(s.modifierClass+s.type),n.classList.add(t.isHorizontal()?s.horizontalClass:s.verticalClass),s.type==="bullets"&&s.dynamicBullets&&(n.classList.add(`${s.modifierClass}${s.type}-dynamic`),b=0,s.dynamicMainBullets<1&&(s.dynamicMainBullets=1)),s.type==="progressbar"&&s.progressbarOpposite&&n.classList.add(s.progressbarOppositeClass),s.clickable&&n.addEventListener("click",N),t.enabled||n.classList.add(s.lockClass)}))}function I(){const s=t.params.pagination;if(W())return;let a=t.pagination.el;a&&(a=R(a),a.forEach(n=>{n.classList.remove(s.hiddenClass),n.classList.remove(s.modifierClass+s.type),n.classList.remove(t.isHorizontal()?s.horizontalClass:s.verticalClass),s.clickable&&(n.classList.remove(...(s.clickableClass||"").split(" ")),n.removeEventListener("click",N))})),t.pagination.bullets&&t.pagination.bullets.forEach(n=>n.classList.remove(...s.bulletActiveClass.split(" ")))}v("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const s=t.params.pagination;let{el:a}=t.pagination;a=R(a),a.forEach(n=>{n.classList.remove(s.horizontalClass,s.verticalClass),n.classList.add(t.isHorizontal()?s.horizontalClass:s.verticalClass)})}),v("init",()=>{t.params.pagination.enabled===!1?E():(g(),T(),S())}),v("activeIndexChange",()=>{typeof t.snapIndex>"u"&&S()}),v("snapIndexChange",()=>{S()}),v("snapGridLengthChange",()=>{T(),S()}),v("destroy",()=>{I()}),v("enable disable",()=>{let{el:s}=t.pagination;s&&(s=R(s),s.forEach(a=>a.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),v("lock unlock",()=>{S()}),v("click",(s,a)=>{const n=a.target,f=R(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&f&&f.length>0&&!n.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const C=f[0].classList.contains(t.params.pagination.hiddenClass);_(C===!0?"paginationShow":"paginationHide"),f.forEach(D=>D.classList.toggle(t.params.pagination.hiddenClass))}});const y=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:s}=t.pagination;s&&(s=R(s),s.forEach(a=>a.classList.remove(t.params.pagination.paginationDisabledClass))),g(),T(),S()},E=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:s}=t.pagination;s&&(s=R(s),s.forEach(a=>a.classList.add(t.params.pagination.paginationDisabledClass))),I()};Object.assign(t.pagination,{enable:y,disable:E,render:T,update:S,init:g,destroy:I})}const He={props:["tempProducts","favorites","isMatchCondition"],data(){return{modalProduct:null}},methods:{openModal(){this.modalProduct.show()},closeModal(){this.modalProduct.hide()},seeProduct(l){this.closeModal(),setTimeout(()=>{this.$router.push({name:"ProductDetail",params:{id:l}})},0)},addToCart(l){this.$emit("add-to-cart",l)},addFavorite(l){this.$emit("add-to-favorite",l)}},mounted(){this.modalProduct=new Pe(this.$refs.productModal)}},re=l=>(se("data-v-13da6d2d"),l=l(),ae(),l),We={ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"selectProductModalLabel","aria-hidden":"true"},Fe={class:"modal-dialog modal-xl"},De={class:"modal-content border-0"},Ne=re(()=>e("div",{class:"modal-header bg-dark text-white"},[e("h5",{id:"selectProductModalLabel",class:"modal-title"},[e("span",null,"推薦酒品")]),e("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Re={class:"modal-body"},ze={class:"row"},Oe={key:0,class:"col-12"},Ee=re(()=>e("div",{class:"alert alert-warning alert-title",role:"alert"},[e("i",{class:"bi bi-exclamation-triangle-fill me-2"}),e("span",null,"您選擇的條件暫無適合酒款，另推薦熱門酒款給您。")],-1)),Ve=[Ee],Ge={class:"card h-100 p-2"},qe={class:"row h-100"},Ue={class:"col-4"},Xe=["onClick"],Ye={key:0,class:"bi bi-heart-fill me-1"},Ke={key:1,class:"bi bi-heart me-1"},Je=["onClick"],Qe=["src","alt"],Ze={class:"col-8"},et={class:"card-body d-flex flex-column h-100 justify-content-between"},tt={class:"mb-2"},st={class:"d-flex mb-1 justify-content-between"},at={key:0,class:"badge bg-danger mb-2"},it={class:"d-flex gap-1"},nt=["onClick"],lt={class:"card-title flex-fill"},ot={class:"card-text text-danger fw-bold"},ct=["onClick"],rt=re(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 關閉 ")],-1));function dt(l,t,h,v,_,o){return d(),u("div",We,[e("div",Fe,[e("div",De,[Ne,e("div",Re,[e("div",ze,[h.isMatchCondition?te("",!0):(d(),u("div",Oe,Ve)),(d(!0),u(P,null,z(h.tempProducts,m=>(d(),u("div",{class:"col-12 col-md-6 col-lg-4 mb-3",key:m.id},[e("div",Ge,[e("div",qe,[e("div",Ue,[e("a",{href:"#",onClick:Z(b=>o.addFavorite(m),["prevent"])},[h.favorites.includes(m.id)?(d(),u("i",Ye)):(d(),u("i",Ke))],8,Xe),e("a",{href:"#",onClick:Z(b=>o.seeProduct(m.id),["prevent"])},[e("img",{src:l.$filters.imgPath(`/images/wine_images/${m.image}.jpg`),class:"card-img-top",alt:m.chineseName},null,8,Qe)],8,Je)]),e("div",Ze,[e("div",et,[e("div",tt,[e("div",st,[m.is_hot?(d(),u("span",at,"熱門推薦")):te("",!0),e("div",it,[(d(!0),u(P,null,z(m.star,b=>(d(),u("i",{class:"bi bi-star-fill text-warning",key:b}))),128))])]),e("div",null,[e("a",{href:"#",class:"text-black",onClick:Z(b=>o.seeProduct(m.id),["prevent"])},[e("h5",lt,F(m.chineseName),1)],8,nt),e("p",ot,"$ "+F(m.price),1)])]),e("a",{href:"#",class:"btn btn-primary w-100",onClick:Z(b=>o.addToCart(m),["prevent"])},"加入購物車",8,ct)])])])])]))),128))])]),rt])])],512)}const pt=X(He,[["render",dt],["__scopeId","data-v-13da6d2d"]]),Q=l=>(se("data-v-bccad9dd"),l=l(),ae(),l),mt={class:"selection-container container-lg mt-5"},ut={class:"row justify-content-between"},_t={class:"hot-container col-md-12 col-lg-6"},gt={class:"info"},ft=Q(()=>e("div",{class:"title d-flex justify-content-between align-items-center mb-3"},[e("div",null,[e("img",{src:Ie,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"熱賣商品")]),e("div",{id:"hot_pagination",class:"swiper-pagination homeswiper-pagination"})],-1)),ht={class:"region-card card bg-white"},vt={class:"card-body px-0"},bt={class:"region-card_head d-flex"},$t={class:"image-wine"},yt=["src"],wt=Q(()=>e("img",{class:"image-switch",src:he,alt:"wine"},null,-1)),xt={class:"info single-ellipsis"},Ct={class:"text-black mt-2"},kt={class:"card-subtitle mt-2 single-ellipsis"},St={class:"d-flex gap-1 mt-2"},Lt={class:"price-block d-flex justify-content-between align-items-center"},jt={class:"price text-primary"},Pt=["disabled","onClick"],Mt=Q(()=>e("span",null,"立即購買",-1)),Tt=Q(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),It={class:"text-center vertical-line d-none d-lg-block"},At=["src"],Bt={class:"select-container col-md-12 col-lg-6 d-flex justify-content-end"},Ht={class:"info"},Wt={class:"title d-flex justify-content-between align-items-center mb-3"},Ft=Q(()=>e("div",null,[e("img",{src:Ae,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"引導選酒區")],-1)),Dt={key:0},Nt={key:1},Rt={class:"container-lg"},zt={class:"row justify-content-between"},Ot=["onClick"],Et=["src"],Vt={__name:"HomeWineSelection",emits:["isReady"],setup(l,{emit:t}){const h=fe(),v=t,{getUser:_,getFavorites:o}=pe(h),m=A("taste"),b=A([]),W=A(!1),M=A(0),N=A(null),S=A(null),T=A(null),g=A([]),I=A([]),y=A([]),E=[{id:0,type:["taste","food"],options:[{name:"純品酒",image:"/images/select_wine1.png",next:1},{name:"搭配餐酒",image:"/images/select_wine2.png",next:10}]},{id:1,type:["taste"],options:[{name:"偏甜",image:"/images/lead_wine/sweet.png",next:2},{name:"偏酸",image:"/images/lead_wine/sour.png",next:2},{name:"偏乾",image:"/images/lead_wine/dry.png",next:90}]},{id:2,type:["taste"],options:[{name:"飽滿",image:"/images/lead_wine/filling.png",next:90},{name:"輕盈",image:"/images/lead_wine/light.png",next:90}]},{id:10,type:["food"],options:[{name:"開胃菜",image:"/images/lead_wine/appetizer.png",next:90},{name:"主菜",image:"/images/lead_wine/main_course.png",next:90},{name:"甜點",image:"/images/lead_wine/dessert.png",next:90}]},{id:90,type:["taste","food"],options:[{name:"氣泡",image:"/images/lead_wine/sparkling.png",next:99},{name:"無氣泡",image:"/images/lead_wine/sparkling_non.png",next:99}]},{id:99,type:["taste","food"],options:[{name:"紅葡萄酒",image:"/images/lead_wine/red_wine.png",next:-1},{name:"白葡萄酒",image:"/images/lead_wine/white_wine.png",next:-1}]}],s=i=>{const c=i.match(/\d+/);return c?parseInt(c[0],10):0},a=()=>{_e.get("https://wine-project-tmiy.onrender.com/products").then(i=>{I.value=i.data,g.value=i.data.filter(c=>!!c.is_hot&&c.star>3).slice(0,3),v("isReady")}).catch(i=>{console.log(i.response)})},n=i=>{S.value=i,S.value.slideReset(),S.value.slideTo(0)},f=i=>{T.value=i,T.value.slideReset(),T.value.slideTo(0)},C=i=>{i.name==="搭配餐酒"?m.value="food":i.name==="純品酒"&&(m.value="taste"),i&&i.next>0?(b.value.push(i.name),T.value.slideNext()):(M.value=i.next,k(i))},D=i=>{var c;i&&i.id&&((c=_.value)!=null&&c.id)&&h.addToCart(i)},Y=i=>{var c;if(i.id&&((c=_.value)!=null&&c.id)&&!o.value.includes(i.id)){const p={userId:_.value.id,productId:i.id,created_at:ge()};h.addToFavorite(p)}},$=(i,c,p)=>{const r=i.taste;switch(c){case"偏甜":return p==="飽滿"?s(r.sweet)>50&&s(r.body)>50:s(r.sweet)<=50&&s(r.body)<=50;case"偏酸":return p==="飽滿"?s(r.acidity)>50&&s(r.body)>50:s(r.acidity)<=50&&s(r.body)<=50;case"偏乾":return p==="飽滿"?s(r.tannin)>50&&s(r.body)>50:s(r.tannin)<=50&&s(r.body)<=50;default:return!1}},B=(i,c)=>{const p=i.food;switch(c){case"開胃菜":return p.some(r=>r.includes("開胃菜"));case"主菜":return p.some(r=>r.includes("海鮮")||r.includes("雞肉")||r.includes("披薩"));case"甜點":return p.some(r=>r.includes("甜點"));default:return!1}},k=i=>{let c=[],p=!1;if(b.value[0]==="搭配餐酒"){const[,r,G]=b.value;p=G==="氣泡",c=I.value.filter(K=>(p?K.wineStyle.includes("氣泡"):K.wineStyle===i.name)&&B(K,r))}else{const[,r,G,K]=b.value;p=K==="氣泡",c=I.value.filter(ie=>(p?ie.wineStyle.includes("氣泡"):ie.wineStyle===i.name)&&$(ie,r,G))}c.length>0?(W.value=!0,y.value=c):(W.value=!1,y.value=I.value.filter(r=>r.wineStyle===i.name&&!!r.is_hot).slice(0,6)),N.value.openModal()},V=()=>{M.value===-1&&(M.value=0,b.value.length=0,T.value.slideReset(),T.value.slideTo(0))},x=me(()=>E.filter(i=>i.type.includes(m.value)));return ue(()=>{a()}),(i,c)=>(d(),u("div",mt,[e("div",ut,[e("div",_t,[e("div",gt,[ft,H(j(oe),{pagination:{el:"#hot_pagination"},onSwiper:n,modules:[j(ve)],class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(g.value,p=>(d(),ce(j(le),{key:p.id},{default:O(()=>{var r;return[e("div",ht,[e("div",null,[e("div",vt,[e("div",bt,[e("div",$t,[e("img",{src:i.$filters.imgPath(`/images/wine_images/${p.image}.jpg`),alt:"wine"},null,8,yt)]),wt,e("div",xt,[e("h5",Ct,F(p.chineseName),1),e("h6",kt,F(p.englishName),1),e("div",St,[(d(!0),u(P,null,z(p.star,G=>(d(),u("i",{class:"bi bi-star-fill text-warning",key:G}))),128))]),e("div",Lt,[e("h5",jt,"NT$"+F(i.$filters.currency(p.price)),1),e("button",{type:"button",class:"btn btn-primary me-0",disabled:!((r=j(_))!=null&&r.id),onClick:G=>D(p)},[Mt,U(),Tt],8,Pt)])])])])])])]}),_:2},1024))),128))]),_:1},8,["modules"])]),e("div",It,[e("img",{src:j(Me),alt:"vertical Line"},null,8,At)])]),e("div",Bt,[e("div",Ht,[e("div",Wt,[Ft,e("button",{type:"button",class:"btn btn-primary btn-next",onClick:V},[M.value===-1?(d(),u("span",Dt,"重新選擇")):(d(),u("span",Nt,"下一步"))])]),H(j(oe),{onSwiper:f,allowTouchMove:!1,class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(x.value,p=>(d(),ce(j(le),{key:p.id},{default:O(()=>[e("div",Rt,[e("div",zt,[(d(!0),u(P,null,z(p.options,r=>(d(),u("div",{class:ke(["",[p.options.length>=3?"col-4":"col-6 g-0"]]),key:`child-${r.id}`},[e("div",{class:"card-select",onClick:G=>C(r)},[e("img",{src:i.$filters.imgPath(r.image),alt:"wine"},null,8,Et),e("h5",null,F(r.name),1)],8,Ot)],2))),128))])])]),_:2},1024))),128))]),_:1})])])]),H(pt,{ref_key:"selectProductModal",ref:N,tempProducts:y.value,favorites:j(o),isMatchCondition:W.value,onAddToCart:D,onAddToFavorite:Y},null,8,["tempProducts","favorites","isMatchCondition"])]))}},Gt=X(Vt,[["__scopeId","data-v-bccad9dd"]]),be="/Wine-project/images/slider-image.png",qt="/Wine-project/images/slider-left.png",$e="/Wine-project/images/slider-right.png",Ut={name:"HomeNews",data(){return{}}},L=l=>(se("data-v-422c8cb9"),l=l(),ae(),l),Xt={class:"container-xl"},Yt={class:"row"},Kt={class:"col-md-12 news-container mt-5 mb-5"},Jt=L(()=>e("h2",{class:"text-primary text-center mt-5"},"最新消息",-1)),Qt={class:"news-image d-none d-lg-flex justify-content-lg-center align-items-lg-center"},Zt=L(()=>e("div",{class:"bg-slider"},null,-1)),es=L(()=>e("img",{src:be,class:"img-slider2",alt:"slider image"},null,-1)),ts=L(()=>e("img",{src:qt,class:"img-slider1 d-none d-lg-block",alt:"slider left"},null,-1)),ss=L(()=>e("img",{src:$e,class:"img-slider3",alt:"slider right"},null,-1)),as={class:"info-slider"},is=L(()=>e("h3",{class:""},"2024 龍年禮盒 85 折起",-1)),ns=L(()=>e("div",{class:"text-info"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),ls=L(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),os={class:"news-md-image d-lg-none d-flex justify-content-center"},cs=L(()=>e("div",{class:"bg-slider"},null,-1)),rs={class:"card"},ds=L(()=>e("img",{src:be,class:"card-img-top",alt:"slider image"},null,-1)),ps={class:"card-body"},ms=L(()=>e("h5",{class:"card-title"},"2024 龍年禮盒 85 折起",-1)),us=L(()=>e("div",{class:"text-info my-3"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),_s=L(()=>e("span",null,"馬上逛逛",-1)),gs=L(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),fs=L(()=>e("img",{src:$e,class:"img-slider3",alt:"slider right"},null,-1));function hs(l,t,h,v,_,o){const m=q("RouterLink");return d(),u("div",Xt,[e("div",Yt,[e("div",Kt,[Jt,e("div",Qt,[Zt,es,ts,ss,e("div",as,[is,ns,H(m,{to:"/products"},{default:O(()=>[U(" 馬上逛逛 "),ls]),_:1})])]),e("div",os,[cs,e("div",rs,[ds,e("div",ps,[ms,us,H(m,{class:"btn btn-primary",to:"/products"},{default:O(()=>[_s,U(),gs]),_:1})])]),fs])])])])}const vs=X(Ut,[["render",hs],["__scopeId","data-v-422c8cb9"]]),bs="/Wine-project/images/region2.jpg",$s="/Wine-project/images/region1.jpg",ys="/Wine-project/images/card-top-line.svg",w=l=>(se("data-v-bce63215"),l=l(),ae(),l),ws={class:"region-container bg-accent-brown"},xs={class:"container"},Cs={class:"row justify-content-center flex-lg-row flex-column align-content-center"},ks={class:"col-lg-5 col-md-8"},Ss={class:"d-flex justify-content-between flex-lg-row flex-column align-items-center"},Ls=w(()=>e("h3",{class:"title text-primary"},"法國特色產區",-1)),js=w(()=>e("label",{for:"select-region",class:"form-label region-label"},"選擇產區",-1)),Ps=w(()=>e("option",{value:"1",selected:""},"法國產區 薄酒萊",-1)),Ms=w(()=>e("option",{value:"2"},"法國產區 波爾多",-1)),Ts=[Ps,Ms],Is={class:"region-image d-flex"},As=w(()=>e("img",{src:bs,alt:"region image"},null,-1)),Bs=w(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"薄酒萊新酒"),e("p",null,"Beaujolais Nouveau")],-1)),Hs=w(()=>e("img",{src:$s,alt:"region image"},null,-1)),Ws=w(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"波爾多新酒"),e("p",null,"Bordeaux Nouveau")],-1)),Fs=w(()=>e("div",{class:"region-content text-start"},[e("p",{class:"lead"},"特色"),e("ol",null,[e("li",null,"每年的11月份的第三個星期四，葡萄採收馬上被裝瓶上架"),e("li",null,"主要以 Gamay 葡萄品種"),e("li",null,"適合用在慶祝活動"),e("li",null,"果味濃郁(草莓、覆盆子和櫻桃)、單寧低、口感輕盈"),e("li",null,"試飲期一到兩年飲用")])],-1)),Ds={class:"col-lg-5 col-md-8"},Ns={class:"region-card card bg-white"},Rs={class:"card-body px-0"},zs={class:"region-card_head d-flex"},Os={class:"image-wine"},Es=["src"],Vs=w(()=>e("img",{class:"image-switch",src:he,alt:"wine"},null,-1)),Gs={class:"single-ellipsis"},qs={class:"text-black mt-2"},Us={class:"card-subtitle mt-2 single-ellipsis"},Xs={class:"price text-primary mt-3"},Ys={class:"region-info mt-2"},Ks=w(()=>e("img",{src:ys,class:"line-image",alt:"line"},null,-1)),Js={class:"taste mt-4"},Qs=w(()=>e("p",{class:"taste-title mb-3"},"這款酒喝起來的味道如何？",-1)),Zs={class:"container-fluid taste-content px-0 mt-1"},ea={class:"row"},ta={class:"col-md-6 d-flex align-items-center mb-1"},sa=w(()=>e("p",null,"單寧",-1)),aa={class:"progress-bar"},ia={class:"col-md-6 d-flex align-items-center mb-1"},na=w(()=>e("p",null,"酸度",-1)),la={class:"progress-bar"},oa={class:"col-md-6 d-flex align-items-center mb-1"},ca=w(()=>e("p",null,"甜度",-1)),ra={class:"progress-bar"},da={class:"col-md-6 d-flex align-items-center mb-1"},pa=w(()=>e("p",null,"酒體",-1)),ma={class:"progress-bar"},ua={class:"region-taste container-fluid px-0 my-4"},_a={class:"row"},ga={class:"col-6"},fa=w(()=>e("p",{class:"mb-2"},"風味分類",-1)),ha={class:"d-flex justify-content-between"},va=["src"],ba={class:"icon-text text-center"},$a={class:"col-6"},ya=w(()=>e("p",{class:"mb-2"},"搭配餐酒",-1)),wa={class:"d-flex justify-content-between"},xa=["src"],Ca={class:"icon-text text-center"},ka={class:"region-button d-flex justify-content-between"},Sa=["onClick","disabled"],La=w(()=>e("i",{class:"bi bi-heart-fill me-1"},null,-1)),ja=w(()=>e("i",{class:"bi bi-heart me-1"},null,-1)),Pa=["disabled","onClick"],Ma=w(()=>e("i",{class:"bi bi-cart3 me-1"},null,-1)),Ta=w(()=>e("div",{id:"region_pagination",class:"swiper-pagination homeswiper-pagination mt-3"},null,-1)),Ia={__name:"HomeWineRegion",setup(l){const t=fe(),{getUser:h,getFavorites:v}=pe(t),_=A(null),o=A("1"),m=A([]),b=me(()=>o.value==="2"?m.value.filter(g=>g.place==="波爾多").slice(0,3):m.value.filter(g=>g.place==="薄酒萊").slice(0,3)),W=()=>{_e.get("https://wine-project-tmiy.onrender.com/products").then(g=>{m.value=g.data}).catch(g=>{console.log(g.response)})},M=g=>{if(g&&h.value.id&&!v.value.includes(g)){const I={userId:h.value.id,productId:g,created_at:ge()};t.addToFavorite(I)}},N=g=>{g&&g.id&&h.value.id&&t.addToCart(g)},S=()=>{_.value&&(_.value.slideReset(),_.value.slideTo(0))},T=g=>{_.value=g,_.value.slideReset(),_.value.slideTo(0)};return ue(()=>{W()}),(g,I)=>(d(),u("div",ws,[e("div",xs,[e("div",Cs,[e("div",ks,[e("div",Ss,[Ls,e("div",null,[js,Se(e("select",{id:"select-region",class:"form-select region text-primary","aria-label":"選擇產區","onUpdate:modelValue":I[0]||(I[0]=y=>o.value=y),onChange:S},Ts,544),[[Le,o.value]])])]),e("div",Is,[o.value==="1"?(d(),u(P,{key:0},[As,Bs],64)):te("",!0),o.value==="2"?(d(),u(P,{key:1},[Hs,Ws],64)):te("",!0)]),Fs]),e("div",Ds,[H(j(oe),{pagination:{el:"#region_pagination"},onSwiper:T,modules:[j(ve)],class:"mySwiper"},{default:O(()=>[(d(!0),u(P,null,z(b.value,y=>(d(),ce(j(le),{key:y.id},{default:O(()=>{var E,s;return[e("div",Ns,[e("div",null,[e("div",Rs,[e("div",zs,[e("div",Os,[e("img",{src:g.$filters.imgPath(`/images/wine_images/${y.image}.jpg`),alt:"wine"},null,8,Es)]),Vs,e("div",Gs,[e("h5",qs,F(y.chineseName),1),e("h6",Us,F(y.englishName),1),e("h5",Xs,"NT$ "+F(g.$filters.currency(y.price)),1)])]),e("div",Ys,[Ks,e("div",Js,[Qs,e("div",Zs,[e("div",ea,[e("div",ta,[sa,e("div",aa,[e("div",{class:"progress",style:ee({width:y.taste.tannin})},null,4)])]),e("div",ia,[na,e("div",la,[e("div",{class:"progress",style:ee({width:y.taste.acidity})},null,4)])]),e("div",oa,[ca,e("div",ra,[e("div",{class:"progress",style:ee({width:y.taste.sweet})},null,4)])]),e("div",da,[pa,e("div",ma,[e("div",{class:"progress",style:ee({width:y.taste.body})},null,4)])])])])])]),e("div",ua,[e("div",_a,[e("div",ga,[fa,e("div",ha,[(d(!0),u(P,null,z(y.flavor.slice(0,3),(a,n)=>(d(),u("div",{class:"icon-container",key:a},[e("img",{src:g.$filters.imgPath(`/images/taste/t${n+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,va),e("p",ba,F(a),1)]))),128))])]),e("div",$a,[ya,e("div",wa,[(d(!0),u(P,null,z(y.food.slice(0,3),(a,n)=>(d(),u("div",{class:"icon-container",key:a},[e("img",{src:g.$filters.imgPath(`/images/taste/f${n+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,xa),e("p",Ca,F(a),1)]))),128))])])])]),e("div",ka,[e("button",{type:"button",class:"btn btn-black me-0",onClick:a=>M(y.id),disabled:!((E=j(h))!=null&&E.id)},[j(v).includes(y.id)?(d(),u(P,{key:0},[La,U(" 已收藏 ")],64)):(d(),u(P,{key:1},[ja,U(" 加入收藏 ")],64))],8,Sa),e("button",{type:"button",class:"btn btn-primary me-0",disabled:!((s=j(h))!=null&&s.id),onClick:a=>N(y)},[Ma,U(" 加入購物車 ")],8,Pa)])])])])]}),_:2},1024))),128))]),_:1},8,["modules"]),Ta])])])]))}},Aa=X(Ia,[["__scopeId","data-v-bce63215"]]),Ba="/Wine-project/images/Deco_3.png",Ha="/Wine-project/images/Article_3.png",ne="/Wine-project/assets/Slider-VELHKiOe.svg",Wa="/Wine-project/images/Article_2.png",Fa="/Wine-project/images/Article_1.png",Da={name:"HomePosts",data(){return{}}},Na={class:"container-fluid d-flex justify-content-center bg-white-2 container-post"},Ra=je('<img src="'+Ba+'" alt="Deco_3" class="deco w-100" data-v-52f199fb><div data-v-52f199fb><h2 class="text-primary text-center my-5" data-v-52f199fb>好文分享</h2><div class="row mb-5" style="max-width:1296px;" data-v-52f199fb><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Ha+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>送酒推薦搭配指南</h5><p class="text-black-70" data-v-52f199fb>紅酒推薦挑選方法</p><p class="text-black" data-v-52f199fb> 紅酒、白酒都是葡萄做為原料而製成，根據不同葡萄品種、產區、釀造方法等，有極廣泛的風味...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/gift-recommendation/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Wa+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>西班牙 CAVA 的由來</h5><p class="text-black-70" data-v-52f199fb>葡萄酒知識</p><p class="text-black" data-v-52f199fb> CAVA是傳統法釀造的氣泡酒，釀造方式使用「二次瓶中發酵法」與香檳相同...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/wine-knowledge-cava/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-52f199fb><div class="card border-0" data-v-52f199fb><img src="'+Fa+'" class="card-img-top" alt="" data-v-52f199fb><div class="card-body" data-v-52f199fb><h5 class="text-primary" data-v-52f199fb>六款值得收藏紅酒推薦</h5><p class="text-black-70" data-v-52f199fb>紅酒歷史由來</p><p class="text-black" data-v-52f199fb> 從最早的自然發酵到現今專業的釀酒，其多變的風味與香氣，更迷倒了古今中外的無數人...... </p><p class="text-end" data-v-52f199fb><a href="https://www.9hunters.com/red-wine-recommendation/" data-v-52f199fb>繼續閱讀 <img src="'+ne+'" alt="Slider" class="mb-1" data-v-52f199fb></a></p></div></div></div></div></div>',2),za=[Ra];function Oa(l,t,h,v,_,o){return d(),u("div",Na,za)}const Ea=X(Da,[["render",Oa],["__scopeId","data-v-52f199fb"]]),Va={name:"HomeView",components:{HomeWineSelection:Gt,HomeNews:vs,HomeWineRegion:Aa,HomePosts:Ea,WineGlassLoader:Te},data(){return{isLoading:!0}},methods:{onIsReady(){setTimeout(()=>{this.isLoading=!1},600)}}};function Ga(l,t,h,v,_,o){const m=q("WineGlassLoader"),b=q("VueLoading"),W=q("HomeWineSelection"),M=q("HomeNews"),N=q("HomeWineRegion"),S=q("HomePosts");return d(),u(P,null,[H(b,{active:_.isLoading},{default:O(()=>[H(m)]),_:1},8,["active"]),H(W,{onIsReady:o.onIsReady},null,8,["onIsReady"]),H(M),H(N),H(S)],64)}const ei=X(Va,[["render",Ga]]);export{ei as default};
