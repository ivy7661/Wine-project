import{e as Ce,c as ke,m as O,a as Le,b as me,d as Se,S as ce,f as re}from"./swiper-vue-5NIOaHlD.js";import{_ as Y,o as r,c as p,a as e,i as se,F as P,j as E,k as ee,t as R,p as ae,e as ne,u as ue,s as _e,l as T,n as ge,q as fe,b as W,w as q,v as de,d as X,x as D,y as Me,g as he,r as G,z as je,A as Pe,B as te,f as Be}from"./index-6PzzfaJ8.js";import{S as ie}from"./sweetalert2.all-z-9cJw1m.js";import{M as Te}from"./bootstrap.esm-TTjMTX3M.js";import{v as Ae}from"./vertical_line-Y-FOFHHk.js";import{g as ve}from"./helpers-Hx-ZzB2u.js";import{u as be}from"./user-qX7th_-E.js";import{W as Ie}from"./WineGlassLoader-yM45y1Ob.js";const He="/Wine-project/images/hot_icon.svg",$e="/Wine-project/images/switch.png",We="/Wine-project/images/wine_icon.svg";function Fe(o,t,w,h){return o.params.createElements&&Object.keys(h).forEach(v=>{if(!w[v]&&w.auto===!0){let l=Ce(o.el,`.${h[v]}`)[0];l||(l=ke("div",h[v]),l.className=h[v],o.el.append(l)),w[v]=l,t[v]=l}}),w}function J(o){return o===void 0&&(o=""),`.${o.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ye(o){let{swiper:t,extendParams:w,on:h,emit:v}=o;const l="swiper-pagination";w({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:s=>s,formatFractionTotal:s=>s,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),t.pagination={el:null,bullets:[]};let d,b=0;function B(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function A(s,i){const{bulletActiveClass:n}=t.params.pagination;s&&(s=s[`${i==="prev"?"previous":"next"}ElementSibling`],s&&(s.classList.add(`${n}-${i}`),s=s[`${i==="prev"?"previous":"next"}ElementSibling`],s&&s.classList.add(`${n}-${i}-${i}`)))}function F(s){const i=s.target.closest(J(t.params.pagination.bulletClass));if(!i)return;s.preventDefault();const n=me(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===n)return;t.slideToLoop(n)}else t.slideTo(n)}function k(){const s=t.rtl,i=t.params.pagination;if(B())return;let n=t.pagination.el;n=O(n);let f,L;const z=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,U=t.params.loop?Math.ceil(z/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(L=t.previousRealIndex||0,f=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(f=t.snapIndex,L=t.previousSnapIndex):(L=t.previousIndex||0,f=t.activeIndex||0),i.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const $=t.pagination.bullets;let H,S,V;if(i.dynamicBullets&&(d=Le($[0],t.isHorizontal()?"width":"height",!0),n.forEach(x=>{x.style[t.isHorizontal()?"width":"height"]=`${d*(i.dynamicMainBullets+4)}px`}),i.dynamicMainBullets>1&&L!==void 0&&(b+=f-(L||0),b>i.dynamicMainBullets-1?b=i.dynamicMainBullets-1:b<0&&(b=0)),H=Math.max(f-b,0),S=H+(Math.min($.length,i.dynamicMainBullets)-1),V=(S+H)/2),$.forEach(x=>{const C=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(a=>`${i.bulletActiveClass}${a}`)].map(a=>typeof a=="string"&&a.includes(" ")?a.split(" "):a).flat();x.classList.remove(...C)}),n.length>1)$.forEach(x=>{const C=me(x);C===f?x.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&x.setAttribute("part","bullet"),i.dynamicBullets&&(C>=H&&C<=S&&x.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),C===H&&A(x,"prev"),C===S&&A(x,"next"))});else{const x=$[f];if(x&&x.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&$.forEach((C,a)=>{C.setAttribute("part",a===f?"bullet-active":"bullet")}),i.dynamicBullets){const C=$[H],a=$[S];for(let g=H;g<=S;g+=1)$[g]&&$[g].classList.add(...`${i.bulletActiveClass}-main`.split(" "));A(C,"prev"),A(a,"next")}}if(i.dynamicBullets){const x=Math.min($.length,i.dynamicMainBullets+4),C=(d*x-d)/2-V*d,a=s?"right":"left";$.forEach(g=>{g.style[t.isHorizontal()?a:"top"]=`${C}px`})}}n.forEach(($,H)=>{if(i.type==="fraction"&&($.querySelectorAll(J(i.currentClass)).forEach(S=>{S.textContent=i.formatFractionCurrent(f+1)}),$.querySelectorAll(J(i.totalClass)).forEach(S=>{S.textContent=i.formatFractionTotal(U)})),i.type==="progressbar"){let S;i.progressbarOpposite?S=t.isHorizontal()?"vertical":"horizontal":S=t.isHorizontal()?"horizontal":"vertical";const V=(f+1)/U;let x=1,C=1;S==="horizontal"?x=V:C=V,$.querySelectorAll(J(i.progressbarFillClass)).forEach(a=>{a.style.transform=`translate3d(0,0,0) scaleX(${x}) scaleY(${C})`,a.style.transitionDuration=`${t.params.speed}ms`})}i.type==="custom"&&i.renderCustom?($.innerHTML=i.renderCustom(t,f+1,U),H===0&&v("paginationRender",$)):(H===0&&v("paginationRender",$),v("paginationUpdate",$)),t.params.watchOverflow&&t.enabled&&$.classList[t.isLocked?"add":"remove"](i.lockClass)})}function N(){const s=t.params.pagination;if(B())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let n=t.pagination.el;n=O(n);let f="";if(s.type==="bullets"){let L=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&L>i&&(L=i);for(let z=0;z<L;z+=1)s.renderBullet?f+=s.renderBullet.call(t,z,s.bulletClass):f+=`<${s.bulletElement} ${t.isElement?'part="bullet"':""} class="${s.bulletClass}"></${s.bulletElement}>`}s.type==="fraction"&&(s.renderFraction?f=s.renderFraction.call(t,s.currentClass,s.totalClass):f=`<span class="${s.currentClass}"></span> / <span class="${s.totalClass}"></span>`),s.type==="progressbar"&&(s.renderProgressbar?f=s.renderProgressbar.call(t,s.progressbarFillClass):f=`<span class="${s.progressbarFillClass}"></span>`),t.pagination.bullets=[],n.forEach(L=>{s.type!=="custom"&&(L.innerHTML=f||""),s.type==="bullets"&&t.pagination.bullets.push(...L.querySelectorAll(J(s.bulletClass)))}),s.type!=="custom"&&v("paginationRender",n[0])}function I(){t.params.pagination=Fe(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const s=t.params.pagination;if(!s.el)return;let i;typeof s.el=="string"&&t.isElement&&(i=t.el.querySelector(s.el)),!i&&typeof s.el=="string"&&(i=[...document.querySelectorAll(s.el)]),i||(i=s.el),!(!i||i.length===0)&&(t.params.uniqueNavElements&&typeof s.el=="string"&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(s.el)],i.length>1&&(i=i.filter(n=>Se(n,".swiper")[0]===t.el)[0])),Array.isArray(i)&&i.length===1&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=O(i),i.forEach(n=>{s.type==="bullets"&&s.clickable&&n.classList.add(...(s.clickableClass||"").split(" ")),n.classList.add(s.modifierClass+s.type),n.classList.add(t.isHorizontal()?s.horizontalClass:s.verticalClass),s.type==="bullets"&&s.dynamicBullets&&(n.classList.add(`${s.modifierClass}${s.type}-dynamic`),b=0,s.dynamicMainBullets<1&&(s.dynamicMainBullets=1)),s.type==="progressbar"&&s.progressbarOpposite&&n.classList.add(s.progressbarOppositeClass),s.clickable&&n.addEventListener("click",F),t.enabled||n.classList.add(s.lockClass)}))}function u(){const s=t.params.pagination;if(B())return;let i=t.pagination.el;i&&(i=O(i),i.forEach(n=>{n.classList.remove(s.hiddenClass),n.classList.remove(s.modifierClass+s.type),n.classList.remove(t.isHorizontal()?s.horizontalClass:s.verticalClass),s.clickable&&(n.classList.remove(...(s.clickableClass||"").split(" ")),n.removeEventListener("click",F))})),t.pagination.bullets&&t.pagination.bullets.forEach(n=>n.classList.remove(...s.bulletActiveClass.split(" ")))}h("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const s=t.params.pagination;let{el:i}=t.pagination;i=O(i),i.forEach(n=>{n.classList.remove(s.horizontalClass,s.verticalClass),n.classList.add(t.isHorizontal()?s.horizontalClass:s.verticalClass)})}),h("init",()=>{t.params.pagination.enabled===!1?_():(I(),N(),k())}),h("activeIndexChange",()=>{typeof t.snapIndex>"u"&&k()}),h("snapIndexChange",()=>{k()}),h("snapGridLengthChange",()=>{N(),k()}),h("destroy",()=>{u()}),h("enable disable",()=>{let{el:s}=t.pagination;s&&(s=O(s),s.forEach(i=>i.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),h("lock unlock",()=>{k()}),h("click",(s,i)=>{const n=i.target,f=O(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&f&&f.length>0&&!n.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const L=f[0].classList.contains(t.params.pagination.hiddenClass);v(L===!0?"paginationShow":"paginationHide"),f.forEach(z=>z.classList.toggle(t.params.pagination.hiddenClass))}});const M=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:s}=t.pagination;s&&(s=O(s),s.forEach(i=>i.classList.remove(t.params.pagination.paginationDisabledClass))),I(),N(),k()},_=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:s}=t.pagination;s&&(s=O(s),s.forEach(i=>i.classList.add(t.params.pagination.paginationDisabledClass))),u()};Object.assign(t.pagination,{enable:M,disable:_,render:N,update:k,init:I,destroy:u})}const De={props:["tempProducts","favorites","isMatchCondition"],data(){return{modalProduct:null}},methods:{openModal(){this.modalProduct.show()},closeModal(){this.modalProduct.hide()},seeProduct(o){this.closeModal(),setTimeout(()=>{this.$router.push({name:"ProductDetail",params:{id:o}})},0)},addToCart(o){this.$emit("add-to-cart",o)},addFavorite(o){this.$emit("add-to-favorite",o)}},mounted(){this.modalProduct=new Te(this.$refs.productModal)}},pe=o=>(ae("data-v-7a2d91c3"),o=o(),ne(),o),Re={ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"selectProductModalLabel","aria-hidden":"true"},Ne={class:"modal-dialog modal-xl"},ze={class:"modal-content border-0"},Oe=pe(()=>e("div",{class:"modal-header bg-dark text-white"},[e("h5",{id:"selectProductModalLabel",class:"modal-title"},[e("span",null,"推薦酒品")]),e("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ee={class:"modal-body"},qe={class:"row"},Ve={key:0,class:"col-12"},Ge=pe(()=>e("div",{class:"alert alert-warning alert-title",role:"alert"},[e("i",{class:"bi bi-exclamation-triangle-fill me-2"}),e("span",null,"您選擇的條件暫無適合酒款，另推薦熱門酒款給您。")],-1)),Ue=[Ge],Xe={class:"card h-100 p-2"},Ye={class:"row h-100"},Ke={class:"col-4"},Je=["onClick"],Qe={key:0,class:"bi bi-heart-fill me-1"},Ze={key:1,class:"bi bi-heart me-1"},et=["onClick"],tt=["src","alt"],st={class:"col-8"},it={class:"card-body d-flex flex-column h-100 justify-content-between"},at={class:"mb-2"},nt={class:"d-flex mb-1 justify-content-between"},lt={key:0,class:"badge bg-danger mb-2"},ot={class:"d-flex gap-1"},ct=["onClick"],rt={class:"card-title flex-fill"},dt={class:"card-text text-danger fw-bold"},pt=["onClick"],mt=pe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 關閉 ")],-1));function ut(o,t,w,h,v,l){return r(),p("div",Re,[e("div",Ne,[e("div",ze,[Oe,e("div",Ee,[e("div",qe,[w.isMatchCondition?se("",!0):(r(),p("div",Ve,Ue)),(r(!0),p(P,null,E(w.tempProducts,d=>(r(),p("div",{class:"col-12 col-md-6 col-lg-4 mb-3",key:d.id},[e("div",Xe,[e("div",Ye,[e("div",Ke,[e("a",{href:"#",onClick:ee(b=>l.addFavorite(d),["prevent"])},[w.favorites.includes(d.id)?(r(),p("i",Qe)):(r(),p("i",Ze))],8,Je),e("a",{href:"#",onClick:ee(b=>l.seeProduct(d.id),["prevent"])},[e("img",{src:o.$filters.imgPath(`/images/wine_images/${d.image}.jpg`),class:"card-img-top",alt:d.chineseName},null,8,tt)],8,et)]),e("div",st,[e("div",it,[e("div",at,[e("div",nt,[d.is_hot?(r(),p("span",lt,"熱門推薦")):se("",!0),e("div",ot,[(r(!0),p(P,null,E(d.star,b=>(r(),p("i",{class:"bi bi-star-fill text-warning",key:b}))),128))])]),e("div",null,[e("a",{href:"#",class:"text-black",onClick:ee(b=>l.seeProduct(d.id),["prevent"])},[e("h5",rt,R(d.chineseName),1)],8,ct),e("p",dt,"$ "+R(d.price),1)])]),e("a",{href:"#",class:"btn btn-primary w-100",onClick:ee(b=>l.addToCart(d),["prevent"])},"加入購物車",8,pt)])])])])]))),128))])]),mt])])],512)}const _t=Y(De,[["render",ut],["__scopeId","data-v-7a2d91c3"]]),Q=o=>(ae("data-v-fbe51302"),o=o(),ne(),o),gt={class:"selection-container container-lg mt-5"},ft={class:"row justify-content-between"},ht={class:"hot-container col-md-12 col-lg-6"},vt={class:"info"},bt=Q(()=>e("div",{class:"title d-flex justify-content-between align-items-center mb-3"},[e("div",null,[e("img",{src:He,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"熱賣商品")]),e("div",{id:"hot_pagination",class:"swiper-pagination homeswiper-pagination"})],-1)),$t={class:"region-card card bg-white"},yt={class:"card-body px-0"},wt={class:"region-card_head d-flex flex-sm-nowrap"},xt={class:"image-wine"},Ct=["src"],kt=Q(()=>e("img",{class:"image-switch",src:$e,alt:"wine"},null,-1)),Lt={class:"info single-ellipsis"},St={class:"text-black mt-2"},Mt={class:"card-subtitle mt-2 single-ellipsis"},jt={class:"d-flex gap-1 mt-2"},Pt={class:"price-block d-flex justify-content-between align-items-center"},Bt={class:"price text-primary"},Tt=["onClick"],At=Q(()=>e("span",null,"立即購買",-1)),It=Q(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),Ht={class:"text-center vertical-line d-none d-lg-block"},Wt=["src"],Ft={class:"select-container col-md-12 col-lg-6 d-flex justify-content-end"},Dt={class:"info"},Rt={class:"title d-flex justify-content-between align-items-center mb-3"},Nt=Q(()=>e("div",null,[e("img",{src:We,class:"mb-2 me-1",alt:"hot"}),e("h5",{class:"d-inline-block text-primary"},"引導選酒區")],-1)),zt={key:0},Ot={key:1},Et={class:"container-lg"},qt={class:"row justify-content-between gx-1 gx-sm-3"},Vt=["onClick"],Gt=["src"],Ut={__name:"HomeWineSelection",emits:["isReady"],setup(o,{emit:t}){const w=be(),h=ue(),v=t,{getUser:l,getFavorites:d}=_e(w),b=T("taste"),B=T([]),A=T(!1),F=T(0),k=T(null),N=T(null),I=T(null),u=T([]),M=T([]),_=T([]),s=[{id:0,type:["taste","food"],options:[{name:"純品酒",image:"/images/select_wine1.png",next:1},{name:"搭配餐酒",image:"/images/select_wine2.png",next:10}]},{id:1,type:["taste"],options:[{name:"偏甜",image:"/images/lead_wine/sweet.png",next:2},{name:"偏酸",image:"/images/lead_wine/sour.png",next:2},{name:"偏乾",image:"/images/lead_wine/dry.png",next:90}]},{id:2,type:["taste"],options:[{name:"飽滿",image:"/images/lead_wine/filling.png",next:90},{name:"輕盈",image:"/images/lead_wine/light.png",next:90}]},{id:10,type:["food"],options:[{name:"開胃菜",image:"/images/lead_wine/appetizer.png",next:90},{name:"主菜",image:"/images/lead_wine/main_course.png",next:90},{name:"甜點",image:"/images/lead_wine/dessert.png",next:90}]},{id:90,type:["taste","food"],options:[{name:"氣泡",image:"/images/lead_wine/sparkling.png",next:99},{name:"無氣泡",image:"/images/lead_wine/sparkling_non.png",next:99}]},{id:99,type:["taste","food"],options:[{name:"紅葡萄酒",image:"/images/lead_wine/red_wine.png",next:-1},{name:"白葡萄酒",image:"/images/lead_wine/white_wine.png",next:-1}]}],i=a=>{const g=a.match(/\d+/);return g?parseInt(g[0],10):0},n=()=>{he.get("https://wine-project-tmiy.onrender.com/products").then(a=>{M.value=a.data,u.value=a.data.filter(g=>!!g.is_hot&&g.star>3).slice(0,3),v("isReady")}).catch(a=>{console.error(a.response)})},f=a=>{N.value=a,N.value.slideReset(),N.value.slideTo(0)},L=a=>{I.value=a,I.value.slideReset(),I.value.slideTo(0)},z=a=>{a.name==="搭配餐酒"?b.value="food":a.name==="純品酒"&&(b.value="taste"),a&&a.next>0?(B.value.push(a.name),I.value.slideNext()):(F.value=a.next,V(a))},U=a=>{var g;a&&a.id&&((g=l.value)!=null&&g.id)?w.addToCart(a):ie.fire({title:"請先登入",html:"前往登入頁面",icon:"question",showCancelButton:!0,cancelButtonText:"取消"}).then(m=>{m.isConfirmed&&(k.value.closeModal(),h.push({name:"UserLogin"}))})},$=a=>{var g;if(a.id&&((g=l.value)!=null&&g.id)&&!d.value.includes(a.id)){const m={userId:l.value.id,productId:a.id,created_at:ve()};w.addToFavorite(m)}else ie.fire({title:"請先登入",html:"前往登入頁面",icon:"question",showCancelButton:!0,cancelButtonText:"取消"}).then(m=>{m.isConfirmed&&(k.value.closeModal(),h.push({name:"UserLogin"}))})},H=(a,g,m)=>{const c=a.taste;switch(g){case"偏甜":return m==="飽滿"?i(c.sweet)>50&&i(c.body)>50:i(c.sweet)<=50&&i(c.body)<=50;case"偏酸":return m==="飽滿"?i(c.acidity)>50&&i(c.body)>50:i(c.acidity)<=50&&i(c.body)<=50;case"偏乾":return m==="飽滿"?i(c.tannin)>50&&i(c.body)>50:i(c.tannin)<=50&&i(c.body)<=50;default:return!1}},S=(a,g)=>{const m=a.food;switch(g){case"開胃菜":return m.some(c=>c.includes("開胃菜"));case"主菜":return m.some(c=>c.includes("海鮮")||c.includes("雞肉")||c.includes("披薩"));case"甜點":return m.some(c=>c.includes("甜點"));default:return!1}},V=a=>{let g=[],m=!1;if(B.value[0]==="搭配餐酒"){const[,c,Z]=B.value;m=Z==="氣泡",g=M.value.filter(K=>(m?K.wineStyle.includes("氣泡"):K.wineStyle===a.name)&&S(K,c))}else{const[,c,Z,K]=B.value;m=K==="氣泡",g=M.value.filter(le=>(m?le.wineStyle.includes("氣泡"):le.wineStyle===a.name)&&H(le,c,Z))}g.length>0?(A.value=!0,_.value=g):(A.value=!1,_.value=M.value.filter(c=>c.wineStyle===a.name&&!!c.is_hot).slice(0,6)),k.value.openModal()},x=()=>{F.value===-1&&(F.value=0,B.value.length=0,I.value.slideReset(),I.value.slideTo(0))},C=ge(()=>s.filter(a=>a.type.includes(b.value)));return fe(()=>{n()}),(a,g)=>(r(),p("div",gt,[e("div",ft,[e("div",ht,[e("div",vt,[bt,W(D(re),{pagination:{el:"#hot_pagination"},onSwiper:f,modules:[D(ye)],class:"mySwiper"},{default:q(()=>[(r(!0),p(P,null,E(u.value,m=>(r(),de(D(ce),{key:m.id},{default:q(()=>[e("div",$t,[e("div",null,[e("div",yt,[e("div",wt,[e("div",xt,[e("img",{src:a.$filters.imgPath(`/images/wine_images/${m.image}.jpg`),alt:"wine"},null,8,Ct),kt]),e("div",Lt,[e("h5",St,R(m.chineseName),1),e("h6",Mt,R(m.englishName),1),e("div",jt,[(r(!0),p(P,null,E(m.star,c=>(r(),p("i",{class:"bi bi-star-fill text-warning",key:c}))),128))]),e("div",Pt,[e("h5",Bt,"NT$"+R(a.$filters.currency(m.price)),1),e("button",{type:"button",class:"btn btn-primary me-0",onClick:c=>U(m)},[At,X(),It],8,Tt)])])])])])])]),_:2},1024))),128))]),_:1},8,["modules"])]),e("div",Ht,[e("img",{src:D(Ae),alt:"vertical Line"},null,8,Wt)])]),e("div",Ft,[e("div",Dt,[e("div",Rt,[Nt,e("button",{type:"button",class:"btn btn-primary btn-next",onClick:x},[F.value===-1?(r(),p("span",zt,"重新選擇")):(r(),p("span",Ot,"下一步"))])]),W(D(re),{onSwiper:L,allowTouchMove:!1,class:"mySwiper"},{default:q(()=>[(r(!0),p(P,null,E(C.value,m=>(r(),de(D(ce),{key:m.id},{default:q(()=>[e("div",Et,[e("div",qt,[(r(!0),p(P,null,E(m.options,c=>(r(),p("div",{class:Me(["",[m.options.length>=3?"col-4":"col-6 g-0"]]),key:`child-${c.id}`},[e("div",{class:"card-select",onClick:Z=>z(c)},[e("img",{src:a.$filters.imgPath(c.image),alt:"wine"},null,8,Gt),e("h5",null,R(c.name),1)],8,Vt)],2))),128))])])]),_:2},1024))),128))]),_:1})])])]),W(_t,{ref_key:"selectProductModal",ref:k,tempProducts:_.value,favorites:D(d),isMatchCondition:A.value,onAddToCart:U,onAddToFavorite:$},null,8,["tempProducts","favorites","isMatchCondition"])]))}},Xt=Y(Ut,[["__scopeId","data-v-fbe51302"]]),we="/Wine-project/images/slider-image.png",Yt="/Wine-project/images/slider-left.png",xe="/Wine-project/images/slider-right.png",Kt={name:"HomeNews",data(){return{}}},j=o=>(ae("data-v-eb509a07"),o=o(),ne(),o),Jt={class:"container-xl"},Qt={class:"row"},Zt={class:"col-md-12 news-container mt-5 mb-5"},es=j(()=>e("h2",{class:"text-primary text-center mt-5"},"最新消息",-1)),ts={class:"news-image d-none d-lg-flex justify-content-lg-center align-items-lg-center"},ss=j(()=>e("div",{class:"bg-slider"},null,-1)),is=j(()=>e("img",{src:we,class:"img-slider2",alt:"slider image"},null,-1)),as=j(()=>e("img",{src:Yt,class:"img-slider1 d-none d-lg-block",alt:"slider left"},null,-1)),ns=j(()=>e("img",{src:xe,class:"img-slider3",alt:"slider right"},null,-1)),ls={class:"info-slider"},os=j(()=>e("h3",{class:""},"2024 龍年禮盒 85 折起",-1)),cs=j(()=>e("div",{class:"text-info"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),rs=j(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),ds={class:"news-md-image d-lg-none d-flex justify-content-center"},ps=j(()=>e("div",{class:"bg-slider"},null,-1)),ms={class:"card"},us=j(()=>e("img",{src:we,class:"card-img-top",alt:"slider image"},null,-1)),_s={class:"card-body"},gs=j(()=>e("h5",{class:"card-title"},"2024 龍年禮盒 85 折起",-1)),fs=j(()=>e("div",{class:"text-info my-3"},[e("p",{class:""},"滿額好禮大方送給您 ！！"),e("p",null,"別錯過新春特別優惠")],-1)),hs=j(()=>e("span",null,"馬上逛逛",-1)),vs=j(()=>e("i",{class:"bi bi-arrow-right"},null,-1)),bs=j(()=>e("img",{src:xe,class:"img-slider3",alt:"slider right"},null,-1));function $s(o,t,w,h,v,l){const d=G("RouterLink");return r(),p("div",Jt,[e("div",Qt,[e("div",Zt,[es,e("div",ts,[ss,is,as,ns,e("div",ls,[os,cs,W(d,{to:"/products"},{default:q(()=>[X(" 馬上逛逛 "),rs]),_:1})])]),e("div",ds,[ps,e("div",ms,[us,e("div",_s,[gs,fs,W(d,{class:"btn btn-primary",to:"/products"},{default:q(()=>[hs,X(),vs]),_:1})])]),bs])])])])}const ys=Y(Kt,[["render",$s],["__scopeId","data-v-eb509a07"]]),ws="/Wine-project/images/region2.jpg",xs="/Wine-project/images/region1.jpg",Cs="/Wine-project/images/card-top-line.svg",y=o=>(ae("data-v-da570926"),o=o(),ne(),o),ks={class:"region-container bg-accent-brown"},Ls={class:"container"},Ss={class:"row justify-content-center flex-lg-row flex-column align-content-center"},Ms={class:"col-lg-6 col-md-8"},js={class:"d-flex justify-content-between flex-lg-row flex-column align-items-center"},Ps=y(()=>e("h3",{class:"title text-primary"},"法國特色產區",-1)),Bs=y(()=>e("label",{for:"select-region",class:"form-label region-label"},"選擇產區",-1)),Ts=y(()=>e("option",{value:"1",selected:""},"法國產區 薄酒萊",-1)),As=y(()=>e("option",{value:"2"},"法國產區 波爾多",-1)),Is=[Ts,As],Hs={class:"region-image d-flex"},Ws=y(()=>e("img",{src:ws,alt:"region image"},null,-1)),Fs=y(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"薄酒萊新酒"),e("p",null,"Beaujolais Nouveau")],-1)),Ds=y(()=>e("img",{src:xs,alt:"region image"},null,-1)),Rs=y(()=>e("div",{class:"info bg-primary d-flex flex-wrap align-content-center justify-content-center"},[e("h4",null,"波爾多新酒"),e("p",null,"Bordeaux Nouveau")],-1)),Ns=y(()=>e("div",{class:"region-content text-start"},[e("p",{class:"lead"},"特色"),e("ol",null,[e("li",null,"每年的11月份的第三個星期四，葡萄採收馬上被裝瓶上架"),e("li",null,"主要以 Gamay 葡萄品種"),e("li",null,"適合用在慶祝活動"),e("li",null,"果味濃郁(草莓、覆盆子和櫻桃)、單寧低、口感輕盈"),e("li",null,"試飲期一到兩年飲用")])],-1)),zs={class:"col-lg-6 col-md-8"},Os={class:"region-card card bg-white"},Es={class:"card-body px-0"},qs={class:"region-card_head d-flex"},Vs={class:"image-wine"},Gs=["src"],Us=y(()=>e("img",{class:"image-switch",src:$e,alt:"wine"},null,-1)),Xs={class:"single-ellipsis"},Ys={class:"text-black mt-2"},Ks={class:"card-subtitle mt-2 single-ellipsis"},Js={class:"price text-primary mt-3"},Qs={class:"region-info mt-2"},Zs=y(()=>e("img",{src:Cs,class:"line-image",alt:"line"},null,-1)),ei={class:"taste mt-4"},ti=y(()=>e("p",{class:"taste-title mb-3"},"這款酒喝起來的味道如何？",-1)),si={class:"container-fluid taste-content px-0 mt-1"},ii={class:"row"},ai={class:"col-md-6 d-flex align-items-center mb-1"},ni=y(()=>e("p",null,"單寧",-1)),li={class:"progress-bar"},oi={class:"col-md-6 d-flex align-items-center mb-1"},ci=y(()=>e("p",null,"酸度",-1)),ri={class:"progress-bar"},di={class:"col-md-6 d-flex align-items-center mb-1"},pi=y(()=>e("p",null,"甜度",-1)),mi={class:"progress-bar"},ui={class:"col-md-6 d-flex align-items-center mb-1"},_i=y(()=>e("p",null,"酒體",-1)),gi={class:"progress-bar"},fi={class:"region-taste container-fluid px-0 my-4"},hi={class:"row"},vi={class:"col-12 col-sm-6"},bi=y(()=>e("p",{class:"mb-2"},"風味分類",-1)),$i={class:"d-flex justify-content-between"},yi=["src"],wi={class:"icon-text text-center"},xi={class:"col-12 col-sm-6"},Ci=y(()=>e("p",{class:"mb-2"},"搭配餐酒",-1)),ki={class:"d-flex justify-content-between"},Li=["src"],Si={class:"icon-text text-center"},Mi={class:"region-button d-flex justify-content-between"},ji=["onClick"],Pi=y(()=>e("i",{class:"bi bi-heart-fill me-1"},null,-1)),Bi=y(()=>e("i",{class:"bi bi-heart me-1"},null,-1)),Ti=["onClick"],Ai=y(()=>e("i",{class:"bi bi-cart3 me-1"},null,-1)),Ii=y(()=>e("div",{id:"region_pagination",class:"swiper-pagination homeswiper-pagination mt-3"},null,-1)),Hi={__name:"HomeWineRegion",setup(o){const t=be(),w=ue(),{getUser:h,getFavorites:v}=_e(t),l=T(null),d=T("1"),b=T([]),B=ge(()=>d.value==="2"?b.value.filter(u=>u.place==="波爾多").slice(0,3):b.value.filter(u=>u.place==="薄酒萊").slice(0,3)),A=()=>{he.get("https://wine-project-tmiy.onrender.com/products").then(u=>{b.value=u.data}).catch(u=>{console.error(u.response)})},F=u=>{var M;if(u&&((M=h.value)!=null&&M.id)){if(!v.value.includes(u)){const _={userId:h.value.id,productId:u,created_at:ve()};t.addToFavorite(_)}}else ie.fire({title:"請先登入",html:"前往登入頁面",icon:"question",showCancelButton:!0,cancelButtonText:"取消"}).then(_=>{_.isConfirmed&&w.push({name:"UserLogin"})})},k=u=>{var M;u&&u.id&&((M=h.value)!=null&&M.id)?t.addToCart(u):ie.fire({title:"請先登入",html:"前往登入頁面",icon:"question",showCancelButton:!0,cancelButtonText:"取消"}).then(_=>{_.isConfirmed&&w.push({name:"UserLogin"})})},N=()=>{l.value&&(l.value.slideReset(),l.value.slideTo(0))},I=u=>{l.value=u,l.value.slideReset(),l.value.slideTo(0)};return fe(()=>{A()}),(u,M)=>(r(),p("div",ks,[e("div",Ls,[e("div",Ss,[e("div",Ms,[e("div",js,[Ps,e("div",null,[Bs,je(e("select",{id:"select-region",class:"form-select region text-primary","aria-label":"選擇產區","onUpdate:modelValue":M[0]||(M[0]=_=>d.value=_),onChange:N},Is,544),[[Pe,d.value]])])]),e("div",Hs,[d.value==="1"?(r(),p(P,{key:0},[Ws,Fs],64)):se("",!0),d.value==="2"?(r(),p(P,{key:1},[Ds,Rs],64)):se("",!0)]),Ns]),e("div",zs,[W(D(re),{pagination:{el:"#region_pagination"},onSwiper:I,modules:[D(ye)],class:"mySwiper"},{default:q(()=>[(r(!0),p(P,null,E(B.value,_=>(r(),de(D(ce),{key:_.id},{default:q(()=>[e("div",Os,[e("div",null,[e("div",Es,[e("div",qs,[e("div",Vs,[e("img",{src:u.$filters.imgPath(`/images/wine_images/${_.image}.jpg`),alt:"wine"},null,8,Gs)]),Us,e("div",Xs,[e("h5",Ys,R(_.chineseName),1),e("h6",Ks,R(_.englishName),1),e("h5",Js,"NT$ "+R(u.$filters.currency(_.price)),1)])]),e("div",Qs,[Zs,e("div",ei,[ti,e("div",si,[e("div",ii,[e("div",ai,[ni,e("div",li,[e("div",{class:"progress",style:te({width:_.taste.tannin})},null,4)])]),e("div",oi,[ci,e("div",ri,[e("div",{class:"progress",style:te({width:_.taste.acidity})},null,4)])]),e("div",di,[pi,e("div",mi,[e("div",{class:"progress",style:te({width:_.taste.sweet})},null,4)])]),e("div",ui,[_i,e("div",gi,[e("div",{class:"progress",style:te({width:_.taste.body})},null,4)])])])])])]),e("div",fi,[e("div",hi,[e("div",vi,[bi,e("div",$i,[(r(!0),p(P,null,E(_.flavor.slice(0,3),(s,i)=>(r(),p("div",{class:"icon-container",key:s},[e("img",{src:u.$filters.imgPath(`/images/taste/t${i+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,yi),e("p",wi,R(s),1)]))),128))])]),e("div",xi,[Ci,e("div",ki,[(r(!0),p(P,null,E(_.food.slice(0,3),(s,i)=>(r(),p("div",{class:"icon-container",key:s},[e("img",{src:u.$filters.imgPath(`/images/taste/f${i+1}.png`),alt:"Icon",class:"icon mb-1"},null,8,Li),e("p",Si,R(s),1)]))),128))])])])]),e("div",Mi,[e("button",{type:"button",class:"btn btn-black me-0",onClick:s=>F(_.id)},[D(v).includes(_.id)?(r(),p(P,{key:0},[Pi,X(" 已收藏 ")],64)):(r(),p(P,{key:1},[Bi,X(" 加入收藏 ")],64))],8,ji),e("button",{type:"button",class:"btn btn-primary me-0",onClick:s=>k(_)},[Ai,X(" 加入購物車 ")],8,Ti)])])])])]),_:2},1024))),128))]),_:1},8,["modules"]),Ii])])])]))}},Wi=Y(Hi,[["__scopeId","data-v-da570926"]]),Fi="/Wine-project/images/Deco_3.png",Di="/Wine-project/images/Article_3.png",oe="/Wine-project/assets/Slider-VELHKiOe.svg",Ri="/Wine-project/images/Article_2.png",Ni="/Wine-project/images/Article_1.png",zi={name:"HomePosts",data(){return{}}},Oi={class:"container-fluid d-flex justify-content-center bg-white-2 container-post"},Ei=Be('<img src="'+Fi+'" alt="Deco_3" class="deco w-100" data-v-bef2d2fd><div data-v-bef2d2fd><h2 class="text-primary text-center my-5" data-v-bef2d2fd>好文分享</h2><div class="row mb-5" style="max-width:1296px;" data-v-bef2d2fd><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-bef2d2fd><div class="card border-0" data-v-bef2d2fd><img src="'+Di+'" class="card-img-top" alt="Article" data-v-bef2d2fd><div class="card-body" data-v-bef2d2fd><h5 class="text-primary" data-v-bef2d2fd>送酒推薦搭配指南</h5><p class="text-black-70" data-v-bef2d2fd>紅酒推薦挑選方法</p><p class="text-black" data-v-bef2d2fd> 紅酒、白酒都是葡萄做為原料而製成，根據不同葡萄品種、產區、釀造方法等，有極廣泛的風味...... </p><p class="text-end" data-v-bef2d2fd><a href="https://www.9hunters.com/gift-recommendation/" data-v-bef2d2fd>繼續閱讀 <img src="'+oe+'" alt="Slider" class="mb-1" data-v-bef2d2fd></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-bef2d2fd><div class="card border-0" data-v-bef2d2fd><img src="'+Ri+'" class="card-img-top" alt="Article" data-v-bef2d2fd><div class="card-body" data-v-bef2d2fd><h5 class="text-primary" data-v-bef2d2fd>西班牙 CAVA 的由來</h5><p class="text-black-70" data-v-bef2d2fd>葡萄酒知識</p><p class="text-black" data-v-bef2d2fd> CAVA是傳統法釀造的氣泡酒，釀造方式使用「二次瓶中發酵法」與香檳相同...... </p><p class="text-end" data-v-bef2d2fd><a href="https://www.9hunters.com/wine-knowledge-cava/" data-v-bef2d2fd>繼續閱讀 <img src="'+oe+'" alt="Slider" class="mb-1" data-v-bef2d2fd></a></p></div></div></div><div class="col-12 col-lg-4 mb-3 mb-lg-0 d-flex justify-content-center" data-v-bef2d2fd><div class="card border-0" data-v-bef2d2fd><img src="'+Ni+'" class="card-img-top" alt="Article" data-v-bef2d2fd><div class="card-body" data-v-bef2d2fd><h5 class="text-primary" data-v-bef2d2fd>六款值得收藏紅酒推薦</h5><p class="text-black-70" data-v-bef2d2fd>紅酒歷史由來</p><p class="text-black" data-v-bef2d2fd> 從最早的自然發酵到現今專業的釀酒，其多變的風味與香氣，更迷倒了古今中外的無數人...... </p><p class="text-end" data-v-bef2d2fd><a href="https://www.9hunters.com/red-wine-recommendation/" data-v-bef2d2fd>繼續閱讀 <img src="'+oe+'" alt="Slider" class="mb-1" data-v-bef2d2fd></a></p></div></div></div></div></div>',2),qi=[Ei];function Vi(o,t,w,h,v,l){return r(),p("div",Oi,qi)}const Gi=Y(zi,[["render",Vi],["__scopeId","data-v-bef2d2fd"]]),Ui={name:"HomeView",components:{HomeWineSelection:Xt,HomeNews:ys,HomeWineRegion:Wi,HomePosts:Gi,WineGlassLoader:Ie},data(){return{isLoading:!0}},methods:{onIsReady(){setTimeout(()=>{this.isLoading=!1},600)}}};function Xi(o,t,w,h,v,l){const d=G("WineGlassLoader"),b=G("VueLoading"),B=G("HomeWineSelection"),A=G("HomeNews"),F=G("HomeWineRegion"),k=G("HomePosts");return r(),p(P,null,[W(b,{active:v.isLoading},{default:q(()=>[W(d)]),_:1},8,["active"]),W(B,{onIsReady:l.onIsReady},null,8,["onIsReady"]),W(A),W(F),W(k)],64)}const ia=Y(Ui,[["render",Xi]]);export{ia as default};
