import{_,m as h,g as m,h as b,c as a,a as e,t as s,F as g,i as v,k as f,o as l,p as y,d as I}from"./index-vJYcqGu8.js";import{u}from"./user--p92fhkm.js";import{_ as w}from"./footerContainer-TBENB7Dp.js";import"./sweetalert2.all-XsL0oDQC.js";import"./helpers-Hx-ZzB2u.js";var S={VITE_API_URL:"https://wine-project-tmiy.onrender.com",VITE_REPO_NAME:"Wine-project",BASE_URL:"/Wine-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:U}=S,x={name:"PaymentReceived",components:{},data(){return{order:null,userId:""}},methods:{...h(u,["setUser","cleanUser","getUserCookie"]),getUserOrderList(){const t=`${U}/orders`;m.get(t).then(d=>{this.orderList=d.data;const n=this.orderList.filter(c=>c.user.userId===this.userId);this.order=n[n.length-1]}).catch(()=>{})}},computed:{...b(u,["getUser"])},mounted(){const{userId:t}=this.getUserCookie();this.userId=t,this.getUserOrderList()}},o=t=>(y("data-v-b06aa0e9"),t=t(),I(),t),E=o(()=>e("div",{class:"bg-paymentReceived pb-4"},[e("h2",{class:"pb-5 text-white container"},"訂單已成立")],-1)),R={class:"container pb-5"},L=o(()=>e("img",{src:w,class:"w-100 mb-5"},null,-1)),k=o(()=>e("div",{class:"progress mb-5 fs-5",role:"progressbar","aria-label":"Animated striped example"},[e("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 確認購物車 "),e("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 填寫資料 "),e("div",{class:"progress-bar bg-primary progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"34%"},"aria-valuenow":"34","aria-valuemin":"0","aria-valuemax":"100"}," 完成訂單 ")],-1)),A={key:0,class:"bg-accent-brown p-3"},O={class:"pb-4"},P={class:"table mb-4"},V=o(()=>e("thead",null,[e("tr",{class:"fs-5"},[e("th",null,"訂單編號"),e("th",null,"顧客姓名"),e("th",null,"連絡電話"),e("th",null,"連絡信箱"),e("th",null,"送貨地址"),e("th",null,"付款狀態"),e("th",null,"訂單狀態")])],-1)),N={class:"fs-5"},B=o(()=>e("h3",{class:"pb-3"},"購買商品清單",-1)),D={class:"table"},T=o(()=>e("thead",null,[e("tr",{class:"fs-5"},[e("th",null,"商品名稱"),e("th",null,"單價"),e("th",null,"數量")])],-1));function j(t,d,n,c,r,C){return l(),a("div",null,[E,e("div",R,[L,k,r.order?(l(),a("div",A,[e("h3",O,"訂單編號 #"+s(r.order.id)+" ("+s(r.order.create_at)+")",1),e("table",P,[V,e("tbody",null,[e("tr",N,[e("td",null,s(r.order.id),1),e("td",null,s(r.order.user.name),1),e("td",null,s(r.order.user.phone),1),e("td",null,s(r.order.user.email),1),e("td",null,s(r.order.user.address),1),e("td",null,s(r.order.is_paid?"已付款":"未付款"),1),e("td",null,s(r.order.orderStatus),1)])])]),B,e("div",null,[e("table",D,[T,e("tbody",null,[(l(!0),a(g,null,v(r.order.cart,(i,p)=>(l(),a("tr",{key:p,class:"fs-5"},[e("td",null,s(i.chineseName),1),e("td",null,"NT$ "+s(i.price),1),e("td",null,s(i.qty),1)]))),128))])])])])):f("",!0)])])}const G=_(x,[["render",j],["__scopeId","data-v-b06aa0e9"]]);export{G as default};
