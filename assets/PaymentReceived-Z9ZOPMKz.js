import{_ as w,L as y,m as I,I as x,g as R,h as U,c as d,b as _,w as u,a as s,t,d as i,F as S,j as E,i as k,r as p,o as c,p as C,e as P}from"./index-KDcbRjT1.js";import{u as m}from"./user-GOzDLLMT.js";/* empty css              */import{W as g}from"./WineGlassLoader-vEzn1kGo.js";import{_ as T}from"./footerContainer-TBENB7Dp.js";import{_ as V}from"./wine hand style-CA-_iX33.js";import"./sweetalert2.all-edPz5k6j.js";import"./helpers-Hx-ZzB2u.js";var N={VITE_API_URL:"https://wine-project-tmiy.onrender.com",VITE_REPO_NAME:"Wine-project",BASE_URL:"/Wine-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:W}=N,A={name:"PaymentReceived",data(){return{order:null,userId:"",isLoading:!1,fullPage:!0}},components:{Loading:y,WineGlassLoader:g},methods:{...I(m,["setUser","cleanUser","getUserCookie"]),doLoading(){this.$loading.show({props:{spinner:g},container:this.$refs.loadingContainer,canCancel:!0,color:"#000000",loader:"spinner",width:64,height:64,backgroundColor:"#ffffff",opacity:.5,zIndex:999},{default:x("WineGlassLoader")}).hide()},setLoadingTime(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},800)},getUserOrderList(){const r=`${W}/orders`;R.get(r).then(n=>{this.setLoadingTime(),this.orderList=n.data;const l=this.orderList.filter(h=>h.user.userId===this.userId);this.order=l[l.length-1]}).catch(()=>{})}},computed:{...U(m,["getUser"])},mounted(){const{userId:r}=this.getUserCookie();this.userId=r,this.getUserOrderList()}},e=r=>(C("data-v-54c36b79"),r=r(),P(),r),O=e(()=>s("div",{class:"pb-4 bg-paymentReceived"},[s("h2",{class:"pb-5 text-white container"},"訂單已成立")],-1)),j={class:"container pb-5"},B=e(()=>s("img",{src:T,class:"w-100 mb-5"},null,-1)),D=e(()=>s("div",{class:"progress mb-5 fs-5",role:"progressbar","aria-label":"Animated striped example"},[s("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 確認購物車 "),s("div",{class:"progress-bar bg-primary",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}," 填寫資料 "),s("div",{class:"progress-bar bg-primary progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"34%"},"aria-valuenow":"34","aria-valuemin":"0","aria-valuemax":"100"}," 完成訂單 ")],-1)),G={key:0,class:"bg-accent-brown p-3 table-responsive"},F={class:"pb-4"},M={class:"row"},q={class:"col-6"},z={class:"mb-3"},X=e(()=>s("strong",null,"訂單編號:",-1)),H={class:"mb-3"},J=e(()=>s("strong",null,"顧客姓名:",-1)),K={class:"mb-3"},Q=e(()=>s("strong",null,"連絡電話:",-1)),Y={class:"col-6"},Z={class:"mb-3"},$=e(()=>s("strong",null,"付款狀態:",-1)),ss={class:"mb-3"},es=e(()=>s("strong",null,"訂單狀態:",-1)),os={class:"row pb-3"},ts={class:"col-12 col-md-6"},rs={class:"mb-3"},is=e(()=>s("strong",null,"連絡信箱:",-1)),as={class:"col-12 col-md-6"},ns={class:"mb-3"},ds=e(()=>s("strong",null,"送貨地址:",-1)),cs=e(()=>s("h3",{class:"pb-3"},"購買商品清單",-1)),ls={class:"fs-5"},_s=e(()=>s("th",{width:"100"},"品項",-1)),ps=e(()=>s("th",{width:"100"},"價格",-1)),hs={class:"bg-accent-brown p-3"},us={class:"row"},ms=e(()=>s("div",{class:"col-12 col-md-4"},[s("img",{src:V,alt:"shopping-cart",class:"img-fluid"})],-1)),gs={class:"col-12 col-md-8 d-flex flex-column justify-content-center"},vs=e(()=>s("p",{class:"fs-5"},"感謝您的購買！",-1)),bs=e(()=>s("p",{class:"fs-5"},"繼續探索吧，還有更多精彩等著您～",-1));function fs(r,n,l,h,o,Ls){const v=p("WineGlassLoader"),b=p("loading"),f=p("RouterLink");return c(),d("div",null,[_(b,{active:o.isLoading,"onUpdate:active":n[0]||(n[0]=a=>o.isLoading=a),"is-full-page":o.fullPage},{default:u(()=>[_(v)]),_:1},8,["active","is-full-page"]),O,s("div",j,[B,D,o.order?(c(),d("div",G,[s("h3",F,"訂單編號 #"+t(o.order.id)+" ("+t(o.order.create_at)+")",1),s("div",M,[s("div",q,[s("div",z,[X,i(" "+t(o.order.id),1)]),s("div",H,[J,i(" "+t(o.order.user.name),1)]),s("div",K,[Q,i(" "+t(o.order.user.phone),1)])]),s("div",Y,[s("div",Z,[$,i(" "+t(o.order.is_paid?"已付款":"未付款"),1)]),s("div",ss,[es,i(" "+t(o.order.orderStatus),1)])])]),s("div",os,[s("div",ts,[s("div",rs,[is,i(" "+t(o.order.user.email),1)])]),s("div",as,[s("div",ns,[ds,i(" "+t(o.order.user.address),1)])])]),cs,s("div",null,[(c(!0),d(S,null,E(o.order.cart,(a,L)=>(c(),d("table",{class:"table",key:L},[s("tbody",ls,[s("tr",null,[_s,s("td",null,t(a.chineseName),1)]),s("tr",null,[ps,s("td",null,"單件 NT$ "+t(a.price)+" X "+t(a.qty)+" 件",1)])])]))),128))])])):k("",!0),s("div",hs,[s("div",us,[ms,s("div",gs,[s("div",null,[vs,bs,_(f,{to:"/products",class:"fs-5"},{default:u(()=>[i("立刻前往商品區逛逛！!")]),_:1})])])])])])])}const ks=w(A,[["render",fs],["__scopeId","data-v-54c36b79"]]);export{ks as default};
